fa78fcc7909de7f318acfc141d50457b
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");
var _classCallCheck2 = _interopRequireDefault2(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault2(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault2(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault2(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault2(require("@babel/runtime/helpers/inherits"));
var _slicedToArray2 = _interopRequireDefault2(require("@babel/runtime/helpers/slicedToArray"));
var _toConsumableArray2 = _interopRequireDefault2(require("@babel/runtime/helpers/toConsumableArray"));
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.GestureDetector = void 0;
var _react = _interopRequireWildcard(require("react"));
var _gesture = require("./gesture");
var _reanimatedWrapper = require("./reanimatedWrapper");
var _handlersRegistry = require("../handlersRegistry");
var _RNGestureHandlerModule = _interopRequireDefault(require("../../RNGestureHandlerModule"));
var _gestureHandlerCommon = require("../gestureHandlerCommon");
var _gestureStateManager = require("./gestureStateManager");
var _FlingGestureHandler = require("../FlingGestureHandler");
var _ForceTouchGestureHandler = require("../ForceTouchGestureHandler");
var _LongPressGestureHandler = require("../LongPressGestureHandler");
var _PanGestureHandler = require("../PanGestureHandler");
var _TapGestureHandler = require("../TapGestureHandler");
var _hoverGesture = require("./hoverGesture");
var _State = require("../../State");
var _TouchEventType = require("../../TouchEventType");
var _ActionType = require("../../ActionType");
var _utils = require("../../utils");
var _getReactNativeVersion = require("../../getReactNativeVersion");
var _getShadowNodeFromRef = require("../../getShadowNodeFromRef");
var _reactNative = require("react-native");
var _eventReceiver = require("./eventReceiver");
var _RNRenderer = require("../../RNRenderer");
var _EnableNewWebImplementation = require("../../EnableNewWebImplementation");
var _NativeViewGestureHandler = require("../NativeViewGestureHandler");
var _GestureHandlerRootViewContext = _interopRequireDefault(require("../../GestureHandlerRootViewContext"));
var _ghQueueMicrotask = require("../../ghQueueMicrotask");
var _Reanimated$default$c, _Reanimated$default;
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();
  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };
  return cache;
}
function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }
  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }
  var cache = _getRequireWildcardCache();
  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }
  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }
  newObj.default = obj;
  if (cache) {
    cache.set(obj, newObj);
  }
  return newObj;
}
var ALLOWED_PROPS = [].concat((0, _toConsumableArray2.default)(_gestureHandlerCommon.baseGestureHandlerWithMonitorProps), (0, _toConsumableArray2.default)(_TapGestureHandler.tapGestureHandlerProps), (0, _toConsumableArray2.default)(_PanGestureHandler.panGestureHandlerProps), (0, _toConsumableArray2.default)(_PanGestureHandler.panGestureHandlerCustomNativeProps), (0, _toConsumableArray2.default)(_LongPressGestureHandler.longPressGestureHandlerProps), (0, _toConsumableArray2.default)(_ForceTouchGestureHandler.forceTouchGestureHandlerProps), (0, _toConsumableArray2.default)(_FlingGestureHandler.flingGestureHandlerProps), (0, _toConsumableArray2.default)(_hoverGesture.hoverGestureHandlerProps), (0, _toConsumableArray2.default)(_NativeViewGestureHandler.nativeViewGestureHandlerProps));
function convertToHandlerTag(ref) {
  if (typeof ref === 'number') {
    return ref;
  } else if (ref instanceof _gesture.BaseGesture) {
    return ref.handlerTag;
  } else {
    var _ref$current$handlerT, _ref$current;
    return (_ref$current$handlerT = (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.handlerTag) !== null && _ref$current$handlerT !== void 0 ? _ref$current$handlerT : -1;
  }
}
function extractValidHandlerTags(interactionGroup) {
  var _interactionGroup$map, _interactionGroup$map2;
  return (_interactionGroup$map = interactionGroup === null || interactionGroup === void 0 ? void 0 : (_interactionGroup$map2 = interactionGroup.map(convertToHandlerTag)) === null || _interactionGroup$map2 === void 0 ? void 0 : _interactionGroup$map2.filter(function (tag) {
    return tag > 0;
  })) !== null && _interactionGroup$map !== void 0 ? _interactionGroup$map : [];
}
function dropHandlers(preparedGesture) {
  for (var handler of preparedGesture.config) {
    _RNGestureHandlerModule.default.dropGestureHandler(handler.handlerTag);
    (0, _handlersRegistry.unregisterHandler)(handler.handlerTag, handler.config.testId);
  }
  (0, _gestureHandlerCommon.scheduleFlushOperations)();
}
function checkGestureCallbacksForWorklets(gesture) {
  if (gesture.config.runOnJS) {
    return;
  }
  var areSomeNotWorklets = gesture.handlers.isWorklet.includes(false);
  var areSomeWorklets = gesture.handlers.isWorklet.includes(true);
  if (areSomeNotWorklets && areSomeWorklets) {
    console.error((0, _utils.tagMessage)(`Some of the callbacks in the gesture are worklets and some are not. Either make sure that all calbacks are marked as 'worklet' if you wish to run them on the UI thread or use '.runOnJS(true)' modifier on the gesture explicitly to run all callbacks on the JS thread.`));
  }
}
function attachHandlers(_ref) {
  var preparedGesture = _ref.preparedGesture,
    gestureConfig = _ref.gestureConfig,
    gesture = _ref.gesture,
    viewTag = _ref.viewTag,
    webEventHandlersRef = _ref.webEventHandlersRef,
    mountedRef = _ref.mountedRef;
  if (!preparedGesture.firstExecution) {
    gestureConfig.initialize();
  } else {
    preparedGesture.firstExecution = false;
  }
  (0, _ghQueueMicrotask.ghQueueMicrotask)(function () {
    if (!mountedRef.current) {
      return;
    }
    gestureConfig.prepare();
  });
  for (var handler of gesture) {
    checkGestureCallbacksForWorklets(handler);
    _RNGestureHandlerModule.default.createGestureHandler(handler.handlerName, handler.handlerTag, (0, _gestureHandlerCommon.filterConfig)(handler.config, ALLOWED_PROPS));
    (0, _handlersRegistry.registerHandler)(handler.handlerTag, handler, handler.config.testId);
  }
  (0, _ghQueueMicrotask.ghQueueMicrotask)(function () {
    if (!mountedRef.current) {
      return;
    }
    for (var _handler of gesture) {
      var requireToFail = [];
      if (_handler.config.requireToFail) {
        requireToFail = extractValidHandlerTags(_handler.config.requireToFail);
      }
      var simultaneousWith = [];
      if (_handler.config.simultaneousWith) {
        simultaneousWith = extractValidHandlerTags(_handler.config.simultaneousWith);
      }
      var blocksHandlers = [];
      if (_handler.config.blocksHandlers) {
        blocksHandlers = extractValidHandlerTags(_handler.config.blocksHandlers);
      }
      _RNGestureHandlerModule.default.updateGestureHandler(_handler.handlerTag, (0, _gestureHandlerCommon.filterConfig)(_handler.config, ALLOWED_PROPS, {
        simultaneousHandlers: simultaneousWith,
        waitFor: requireToFail,
        blocksHandlers: blocksHandlers
      }));
    }
    (0, _gestureHandlerCommon.scheduleFlushOperations)();
  });
  preparedGesture.config = gesture;
  for (var _gesture2 of preparedGesture.config) {
    var actionType = _gesture2.shouldUseReanimated ? _ActionType.ActionType.REANIMATED_WORKLET : _ActionType.ActionType.JS_FUNCTION_NEW_API;
    if (_reactNative.Platform.OS === 'web') {
      _RNGestureHandlerModule.default.attachGestureHandler(_gesture2.handlerTag, viewTag, _ActionType.ActionType.JS_FUNCTION_OLD_API, webEventHandlersRef);
    } else {
      _RNGestureHandlerModule.default.attachGestureHandler(_gesture2.handlerTag, viewTag, actionType);
    }
  }
  if (preparedGesture.animatedHandlers) {
    var isAnimatedGesture = function isAnimatedGesture(g) {
      return g.shouldUseReanimated;
    };
    preparedGesture.animatedHandlers.value = gesture.filter(isAnimatedGesture).map(function (g) {
      return g.handlers;
    });
  }
}
function updateHandlers(preparedGesture, gestureConfig, gesture, mountedRef) {
  gestureConfig.prepare();
  for (var i = 0; i < gesture.length; i++) {
    var handler = preparedGesture.config[i];
    checkGestureCallbacksForWorklets(handler);
    if (gesture[i].handlerTag !== handler.handlerTag) {
      gesture[i].handlerTag = handler.handlerTag;
      gesture[i].handlers.handlerTag = handler.handlerTag;
    }
  }
  (0, _ghQueueMicrotask.ghQueueMicrotask)(function () {
    if (!mountedRef.current) {
      return;
    }
    for (var _i = 0; _i < gesture.length; _i++) {
      var _handler2 = preparedGesture.config[_i];
      _handler2.config = gesture[_i].config;
      _handler2.handlers = gesture[_i].handlers;
      var requireToFail = extractValidHandlerTags(_handler2.config.requireToFail);
      var simultaneousWith = extractValidHandlerTags(_handler2.config.simultaneousWith);
      _RNGestureHandlerModule.default.updateGestureHandler(_handler2.handlerTag, (0, _gestureHandlerCommon.filterConfig)(_handler2.config, ALLOWED_PROPS, {
        simultaneousHandlers: simultaneousWith,
        waitFor: requireToFail
      }));
      (0, _handlersRegistry.registerHandler)(_handler2.handlerTag, _handler2, _handler2.config.testId);
    }
    if (preparedGesture.animatedHandlers) {
      var _preparedGesture$anim;
      var previousHandlersValue = (_preparedGesture$anim = preparedGesture.animatedHandlers.value) !== null && _preparedGesture$anim !== void 0 ? _preparedGesture$anim : [];
      var newHandlersValue = preparedGesture.config.filter(function (g) {
        return g.shouldUseReanimated;
      }).map(function (g) {
        return g.handlers;
      });
      var shouldUpdateSharedValue = previousHandlersValue.length !== newHandlersValue.length;
      if (!shouldUpdateSharedValue) {
        for (var _i2 = 0; _i2 < newHandlersValue.length; _i2++) {
          if (newHandlersValue[_i2].gestureId !== previousHandlersValue[_i2].gestureId) {
            shouldUpdateSharedValue = true;
            break;
          }
        }
      }
      if (shouldUpdateSharedValue) {
        preparedGesture.animatedHandlers.value = newHandlersValue;
      }
    }
    (0, _gestureHandlerCommon.scheduleFlushOperations)();
  });
}
function needsToReattach(preparedGesture, gesture) {
  if (gesture.length !== preparedGesture.config.length) {
    return true;
  }
  for (var i = 0; i < gesture.length; i++) {
    if (gesture[i].handlerName !== preparedGesture.config[i].handlerName || gesture[i].shouldUseReanimated !== preparedGesture.config[i].shouldUseReanimated) {
      return true;
    }
  }
  return false;
}
function isStateChangeEvent(event) {
  'worklet';
  return event.oldState != null;
}
function isTouchEvent(event) {
  'worklet';

  return event.eventType != null;
}
function getHandler(type, gesture) {
  'worklet';

  switch (type) {
    case _gesture.CALLBACK_TYPE.BEGAN:
      return gesture.onBegin;
    case _gesture.CALLBACK_TYPE.START:
      return gesture.onStart;
    case _gesture.CALLBACK_TYPE.UPDATE:
      return gesture.onUpdate;
    case _gesture.CALLBACK_TYPE.CHANGE:
      return gesture.onChange;
    case _gesture.CALLBACK_TYPE.END:
      return gesture.onEnd;
    case _gesture.CALLBACK_TYPE.FINALIZE:
      return gesture.onFinalize;
    case _gesture.CALLBACK_TYPE.TOUCHES_DOWN:
      return gesture.onTouchesDown;
    case _gesture.CALLBACK_TYPE.TOUCHES_MOVE:
      return gesture.onTouchesMove;
    case _gesture.CALLBACK_TYPE.TOUCHES_UP:
      return gesture.onTouchesUp;
    case _gesture.CALLBACK_TYPE.TOUCHES_CANCELLED:
      return gesture.onTouchesCancelled;
  }
}
function touchEventTypeToCallbackType(eventType) {
  'worklet';

  switch (eventType) {
    case _TouchEventType.TouchEventType.TOUCHES_DOWN:
      return _gesture.CALLBACK_TYPE.TOUCHES_DOWN;
    case _TouchEventType.TouchEventType.TOUCHES_MOVE:
      return _gesture.CALLBACK_TYPE.TOUCHES_MOVE;
    case _TouchEventType.TouchEventType.TOUCHES_UP:
      return _gesture.CALLBACK_TYPE.TOUCHES_UP;
    case _TouchEventType.TouchEventType.TOUCHES_CANCELLED:
      return _gesture.CALLBACK_TYPE.TOUCHES_CANCELLED;
  }
  return _gesture.CALLBACK_TYPE.UNDEFINED;
}
function runWorklet(type, gesture, event) {
  'worklet';

  var handler = getHandler(type, gesture);
  if (gesture.isWorklet[type]) {
    for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
      args[_key - 3] = arguments[_key];
    }
    handler === null || handler === void 0 ? void 0 : handler.apply(void 0, [event].concat(args));
  } else if (handler) {
    console.warn((0, _utils.tagMessage)('Animated gesture callback must be a worklet'));
  }
}
function useAnimatedGesture(preparedGesture, needsRebuild) {
  if (!_reanimatedWrapper.Reanimated) {
    return;
  }
  var sharedHandlersCallbacks = _reanimatedWrapper.Reanimated.useSharedValue(null);
  var lastUpdateEvent = _reanimatedWrapper.Reanimated.useSharedValue([]);
  var stateControllers = [];
  var callback = function callback(event) {
    'worklet';

    var currentCallback = sharedHandlersCallbacks.value;
    if (!currentCallback) {
      return;
    }
    for (var i = 0; i < currentCallback.length; i++) {
      var gesture = currentCallback[i];
      if (event.handlerTag === gesture.handlerTag) {
        if (isStateChangeEvent(event)) {
          if (event.oldState === _State.State.UNDETERMINED && event.state === _State.State.BEGAN) {
            runWorklet(_gesture.CALLBACK_TYPE.BEGAN, gesture, event);
          } else if ((event.oldState === _State.State.BEGAN || event.oldState === _State.State.UNDETERMINED) && event.state === _State.State.ACTIVE) {
            runWorklet(_gesture.CALLBACK_TYPE.START, gesture, event);
            lastUpdateEvent.value[gesture.handlerTag] = undefined;
          } else if (event.oldState !== event.state && event.state === _State.State.END) {
            if (event.oldState === _State.State.ACTIVE) {
              runWorklet(_gesture.CALLBACK_TYPE.END, gesture, event, true);
            }
            runWorklet(_gesture.CALLBACK_TYPE.FINALIZE, gesture, event, true);
          } else if ((event.state === _State.State.FAILED || event.state === _State.State.CANCELLED) && event.state !== event.oldState) {
            if (event.oldState === _State.State.ACTIVE) {
              runWorklet(_gesture.CALLBACK_TYPE.END, gesture, event, false);
            }
            runWorklet(_gesture.CALLBACK_TYPE.FINALIZE, gesture, event, false);
          }
        } else if (isTouchEvent(event)) {
          if (!stateControllers[i]) {
            stateControllers[i] = _gestureStateManager.GestureStateManager.create(event.handlerTag);
          }
          if (event.eventType !== _TouchEventType.TouchEventType.UNDETERMINED) {
            runWorklet(touchEventTypeToCallbackType(event.eventType), gesture, event, stateControllers[i]);
          }
        } else {
          runWorklet(_gesture.CALLBACK_TYPE.UPDATE, gesture, event);
          if (gesture.onChange && gesture.changeEventCalculator) {
            var _gesture$changeEventC;
            runWorklet(_gesture.CALLBACK_TYPE.CHANGE, gesture, (_gesture$changeEventC = gesture.changeEventCalculator) === null || _gesture$changeEventC === void 0 ? void 0 : _gesture$changeEventC.call(gesture, event, lastUpdateEvent.value[gesture.handlerTag]));
            lastUpdateEvent.value[gesture.handlerTag] = event;
          }
        }
      }
    }
  };
  var event = _reanimatedWrapper.Reanimated.useEvent(callback, ['onGestureHandlerStateChange', 'onGestureHandlerEvent'], needsRebuild);
  preparedGesture.animatedEventHandler = event;
  preparedGesture.animatedHandlers = sharedHandlersCallbacks;
}
function validateDetectorChildren(ref) {
  if (__DEV__ && _reactNative.Platform.OS !== 'web') {
    var REACT_NATIVE_VERSION = (0, _getReactNativeVersion.getReactNativeVersion)();
    var wrapType = REACT_NATIVE_VERSION.minor > 63 || REACT_NATIVE_VERSION.major > 0 ? ref._reactInternals.elementType : ref._reactInternalFiber.elementType;
    var instance = _RNRenderer.RNRenderer.findHostInstance_DEPRECATED(ref)._internalFiberInstanceHandleDEV;
    while (instance && instance.elementType !== wrapType) {
      if (instance.sibling) {
        throw new Error('GestureDetector has more than one native view as its children. This can happen if you are using a custom component that renders multiple views, like React.Fragment. You should wrap content of GestureDetector with a <View> or <Animated.View>.');
      }
      instance = instance.return;
    }
  }
}
var applyUserSelectProp = function applyUserSelectProp(userSelect, gesture) {
  for (var g of gesture.toGestureArray()) {
    g.config.userSelect = userSelect;
  }
};
var applyEnableContextMenuProp = function applyEnableContextMenuProp(enableContextMenu, gesture) {
  for (var g of gesture.toGestureArray()) {
    g.config.enableContextMenu = enableContextMenu;
  }
};
var GestureDetector = function GestureDetector(props) {
  var rootViewContext = (0, _react.useContext)(_GestureHandlerRootViewContext.default);
  if (__DEV__ && !rootViewContext && !(0, _utils.isJestEnv)() && _reactNative.Platform.OS !== 'web') {
    throw new Error('GestureDetector must be used as a descendant of GestureHandlerRootView. Otherwise the gestures will not be recognized. See https://docs.swmansion.com/react-native-gesture-handler/docs/installation for more details.');
  }
  var gestureConfig = props.gesture;
  if (props.userSelect) {
    applyUserSelectProp(props.userSelect, gestureConfig);
  }
  if (props.enableContextMenu !== undefined) {
    applyEnableContextMenuProp(props.enableContextMenu, gestureConfig);
  }
  var gesture = gestureConfig.toGestureArray();
  var useReanimatedHook = gesture.some(function (g) {
    return g.shouldUseReanimated;
  });
  var state = (0, _react.useRef)({
    firstRender: true,
    viewRef: null,
    previousViewTag: -1,
    forceReattach: false
  }).current;
  var mountedRef = (0, _react.useRef)(false);
  var webEventHandlersRef = (0, _react.useRef)({
    onGestureHandlerEvent: function onGestureHandlerEvent(e) {
      (0, _eventReceiver.onGestureHandlerEvent)(e.nativeEvent);
    },
    onGestureHandlerStateChange: (0, _EnableNewWebImplementation.isNewWebImplementationEnabled)() ? function (e) {
      (0, _eventReceiver.onGestureHandlerEvent)(e.nativeEvent);
    } : undefined
  });
  var _ref2 = (0, _react.useState)(false),
    _ref3 = (0, _slicedToArray2.default)(_ref2, 2),
    renderState = _ref3[0],
    setRenderState = _ref3[1];
  function forceRender() {
    setRenderState(!renderState);
  }
  var preparedGesture = _react.default.useRef({
    config: gesture,
    animatedEventHandler: null,
    animatedHandlers: null,
    firstExecution: true,
    useReanimatedHook: useReanimatedHook
  }).current;
  if (useReanimatedHook !== preparedGesture.useReanimatedHook) {
    throw new Error((0, _utils.tagMessage)('You cannot change the thread the callbacks are ran on while the app is running'));
  }
  function onHandlersUpdate(skipConfigUpdate) {
    var viewTag = (0, _gestureHandlerCommon.findNodeHandle)(state.viewRef);
    var forceReattach = viewTag !== state.previousViewTag;
    if (forceReattach || needsToReattach(preparedGesture, gesture)) {
      validateDetectorChildren(state.viewRef);
      dropHandlers(preparedGesture);
      attachHandlers({
        preparedGesture: preparedGesture,
        gestureConfig: gestureConfig,
        gesture: gesture,
        webEventHandlersRef: webEventHandlersRef,
        viewTag: viewTag,
        mountedRef: mountedRef
      });
      state.previousViewTag = viewTag;
      state.forceReattach = forceReattach;
      if (forceReattach) {
        forceRender();
      }
    } else if (!skipConfigUpdate) {
      updateHandlers(preparedGesture, gestureConfig, gesture, mountedRef);
    }
  }
  var needsToRebuildReanimatedEvent = preparedGesture.firstExecution || needsToReattach(preparedGesture, gesture) || state.forceReattach;
  state.forceReattach = false;
  if (preparedGesture.firstExecution) {
    gestureConfig.initialize();
  }
  if (useReanimatedHook) {
    useAnimatedGesture(preparedGesture, needsToRebuildReanimatedEvent);
  }
  (0, _react.useEffect)(function () {
    var viewTag = (0, _gestureHandlerCommon.findNodeHandle)(state.viewRef);
    state.firstRender = true;
    mountedRef.current = true;
    validateDetectorChildren(state.viewRef);
    attachHandlers({
      preparedGesture: preparedGesture,
      gestureConfig: gestureConfig,
      gesture: gesture,
      webEventHandlersRef: webEventHandlersRef,
      viewTag: viewTag,
      mountedRef: mountedRef
    });
    return function () {
      mountedRef.current = false;
      dropHandlers(preparedGesture);
    };
  }, []);
  (0, _react.useEffect)(function () {
    if (!state.firstRender) {
      onHandlersUpdate();
    } else {
      state.firstRender = false;
    }
  }, [props]);
  var refFunction = function refFunction(ref) {
    if (ref !== null) {
      state.viewRef = ref;
      if (state.previousViewTag === -1) {
        state.previousViewTag = (0, _gestureHandlerCommon.findNodeHandle)(state.viewRef);
      }
      onHandlersUpdate(true);
      if ((0, _utils.isFabric)() && global.isFormsStackingContext) {
        var node = (0, _getShadowNodeFromRef.getShadowNodeFromRef)(ref);
        if (global.isFormsStackingContext(node) === false) {
          console.error((0, _utils.tagMessage)('GestureDetector has received a child that may get view-flattened. ' + '\nTo prevent it from misbehaving you need to wrap the child with a `<View collapsable={false}>`.'));
        }
      }
    }
  };
  if (useReanimatedHook) {
    return _react.default.createElement(AnimatedWrap, {
      ref: refFunction,
      onGestureHandlerEvent: preparedGesture.animatedEventHandler
    }, props.children);
  } else {
    return _react.default.createElement(Wrap, {
      ref: refFunction
    }, props.children);
  }
};
exports.GestureDetector = GestureDetector;
var Wrap = function (_react$default$Compon) {
  function Wrap() {
    (0, _classCallCheck2.default)(this, Wrap);
    return _callSuper(this, Wrap, arguments);
  }
  (0, _inherits2.default)(Wrap, _react$default$Compon);
  return (0, _createClass2.default)(Wrap, [{
    key: "render",
    value: function render() {
      try {
        var child = _react.default.Children.only(this.props.children);
        return _react.default.cloneElement(child, {
          collapsable: false
        }, child.props.children);
      } catch (e) {
        throw new Error((0, _utils.tagMessage)(`GestureDetector got more than one view as a child. If you want the gesture to work on multiple views, wrap them with a common parent and attach the gesture to that view.`));
      }
    }
  }]);
}(_react.default.Component);
var AnimatedWrap = (_Reanimated$default$c = _reanimatedWrapper.Reanimated === null || _reanimatedWrapper.Reanimated === void 0 ? void 0 : (_Reanimated$default = _reanimatedWrapper.Reanimated.default) === null || _Reanimated$default === void 0 ? void 0 : _Reanimated$default.createAnimatedComponent(Wrap)) !== null && _Reanimated$default$c !== void 0 ? _Reanimated$default$c : Wrap;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2VzdHVyZSIsIl9yZWFuaW1hdGVkV3JhcHBlciIsIl9oYW5kbGVyc1JlZ2lzdHJ5IiwiX1JOR2VzdHVyZUhhbmRsZXJNb2R1bGUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2dlc3R1cmVIYW5kbGVyQ29tbW9uIiwiX2dlc3R1cmVTdGF0ZU1hbmFnZXIiLCJfRmxpbmdHZXN0dXJlSGFuZGxlciIsIl9Gb3JjZVRvdWNoR2VzdHVyZUhhbmRsZXIiLCJfTG9uZ1ByZXNzR2VzdHVyZUhhbmRsZXIiLCJfUGFuR2VzdHVyZUhhbmRsZXIiLCJfVGFwR2VzdHVyZUhhbmRsZXIiLCJfaG92ZXJHZXN0dXJlIiwiX1N0YXRlIiwiX1RvdWNoRXZlbnRUeXBlIiwiX0FjdGlvblR5cGUiLCJfdXRpbHMiLCJfZ2V0UmVhY3ROYXRpdmVWZXJzaW9uIiwiX2dldFNoYWRvd05vZGVGcm9tUmVmIiwiX3JlYWN0TmF0aXZlIiwiX2V2ZW50UmVjZWl2ZXIiLCJfUk5SZW5kZXJlciIsIl9FbmFibGVOZXdXZWJJbXBsZW1lbnRhdGlvbiIsIl9OYXRpdmVWaWV3R2VzdHVyZUhhbmRsZXIiLCJfR2VzdHVyZUhhbmRsZXJSb290Vmlld0NvbnRleHQiLCJfZ2hRdWV1ZU1pY3JvdGFzayIsIkFMTE9XRURfUFJPUFMiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiZGVmYXVsdCIsImJhc2VHZXN0dXJlSGFuZGxlcldpdGhNb25pdG9yUHJvcHMiLCJ0YXBHZXN0dXJlSGFuZGxlclByb3BzIiwicGFuR2VzdHVyZUhhbmRsZXJQcm9wcyIsInBhbkdlc3R1cmVIYW5kbGVyQ3VzdG9tTmF0aXZlUHJvcHMiLCJsb25nUHJlc3NHZXN0dXJlSGFuZGxlclByb3BzIiwiZm9yY2VUb3VjaEdlc3R1cmVIYW5kbGVyUHJvcHMiLCJmbGluZ0dlc3R1cmVIYW5kbGVyUHJvcHMiLCJob3Zlckdlc3R1cmVIYW5kbGVyUHJvcHMiLCJuYXRpdmVWaWV3R2VzdHVyZUhhbmRsZXJQcm9wcyIsImNvbnZlcnRUb0hhbmRsZXJUYWciLCJyZWYiLCJCYXNlR2VzdHVyZSIsImhhbmRsZXJUYWciLCJfcmVmJGN1cnJlbnQkaGFuZGxlclQiLCJfcmVmJGN1cnJlbnQiLCJjdXJyZW50IiwiZXh0cmFjdFZhbGlkSGFuZGxlclRhZ3MiLCJpbnRlcmFjdGlvbkdyb3VwIiwiX2ludGVyYWN0aW9uR3JvdXAkbWFwIiwiX2ludGVyYWN0aW9uR3JvdXAkbWFwMiIsIm1hcCIsImZpbHRlciIsInRhZyIsImRyb3BIYW5kbGVycyIsInByZXBhcmVkR2VzdHVyZSIsImhhbmRsZXIiLCJjb25maWciLCJkcm9wR2VzdHVyZUhhbmRsZXIiLCJ1bnJlZ2lzdGVySGFuZGxlciIsInRlc3RJZCIsInNjaGVkdWxlRmx1c2hPcGVyYXRpb25zIiwiY2hlY2tHZXN0dXJlQ2FsbGJhY2tzRm9yV29ya2xldHMiLCJnZXN0dXJlIiwicnVuT25KUyIsImFyZVNvbWVOb3RXb3JrbGV0cyIsImhhbmRsZXJzIiwiaXNXb3JrbGV0IiwiaW5jbHVkZXMiLCJhcmVTb21lV29ya2xldHMiLCJjb25zb2xlIiwiZXJyb3IiLCJ0YWdNZXNzYWdlIiwiYXR0YWNoSGFuZGxlcnMiLCJfcmVmIiwiZ2VzdHVyZUNvbmZpZyIsInZpZXdUYWciLCJ3ZWJFdmVudEhhbmRsZXJzUmVmIiwibW91bnRlZFJlZiIsImZpcnN0RXhlY3V0aW9uIiwiaW5pdGlhbGl6ZSIsImdoUXVldWVNaWNyb3Rhc2siLCJwcmVwYXJlIiwiY3JlYXRlR2VzdHVyZUhhbmRsZXIiLCJoYW5kbGVyTmFtZSIsImZpbHRlckNvbmZpZyIsInJlZ2lzdGVySGFuZGxlciIsInJlcXVpcmVUb0ZhaWwiLCJzaW11bHRhbmVvdXNXaXRoIiwiYmxvY2tzSGFuZGxlcnMiLCJ1cGRhdGVHZXN0dXJlSGFuZGxlciIsInNpbXVsdGFuZW91c0hhbmRsZXJzIiwid2FpdEZvciIsImFjdGlvblR5cGUiLCJzaG91bGRVc2VSZWFuaW1hdGVkIiwiQWN0aW9uVHlwZSIsIlJFQU5JTUFURURfV09SS0xFVCIsIkpTX0ZVTkNUSU9OX05FV19BUEkiLCJQbGF0Zm9ybSIsIk9TIiwiYXR0YWNoR2VzdHVyZUhhbmRsZXIiLCJKU19GVU5DVElPTl9PTERfQVBJIiwiYW5pbWF0ZWRIYW5kbGVycyIsImlzQW5pbWF0ZWRHZXN0dXJlIiwiZyIsInZhbHVlIiwidXBkYXRlSGFuZGxlcnMiLCJpIiwibGVuZ3RoIiwiX3ByZXBhcmVkR2VzdHVyZSRhbmltIiwicHJldmlvdXNIYW5kbGVyc1ZhbHVlIiwibmV3SGFuZGxlcnNWYWx1ZSIsInNob3VsZFVwZGF0ZVNoYXJlZFZhbHVlIiwiZ2VzdHVyZUlkIiwibmVlZHNUb1JlYXR0YWNoIiwiaXNTdGF0ZUNoYW5nZUV2ZW50IiwiZXZlbnQiLCJvbGRTdGF0ZSIsImlzVG91Y2hFdmVudCIsImV2ZW50VHlwZSIsImdldEhhbmRsZXIiLCJ0eXBlIiwiQ0FMTEJBQ0tfVFlQRSIsIkJFR0FOIiwib25CZWdpbiIsIlNUQVJUIiwib25TdGFydCIsIlVQREFURSIsIm9uVXBkYXRlIiwiQ0hBTkdFIiwib25DaGFuZ2UiLCJFTkQiLCJvbkVuZCIsIkZJTkFMSVpFIiwib25GaW5hbGl6ZSIsIlRPVUNIRVNfRE9XTiIsIm9uVG91Y2hlc0Rvd24iLCJUT1VDSEVTX01PVkUiLCJvblRvdWNoZXNNb3ZlIiwiVE9VQ0hFU19VUCIsIm9uVG91Y2hlc1VwIiwiVE9VQ0hFU19DQU5DRUxMRUQiLCJvblRvdWNoZXNDYW5jZWxsZWQiLCJ0b3VjaEV2ZW50VHlwZVRvQ2FsbGJhY2tUeXBlIiwiVG91Y2hFdmVudFR5cGUiLCJVTkRFRklORUQiLCJydW5Xb3JrbGV0IiwiX2xlbiIsImFyZ3VtZW50cyIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJhcHBseSIsIndhcm4iLCJ1c2VBbmltYXRlZEdlc3R1cmUiLCJuZWVkc1JlYnVpbGQiLCJSZWFuaW1hdGVkIiwic2hhcmVkSGFuZGxlcnNDYWxsYmFja3MiLCJ1c2VTaGFyZWRWYWx1ZSIsImxhc3RVcGRhdGVFdmVudCIsInN0YXRlQ29udHJvbGxlcnMiLCJjYWxsYmFjayIsImN1cnJlbnRDYWxsYmFjayIsIlN0YXRlIiwiVU5ERVRFUk1JTkVEIiwic3RhdGUiLCJBQ1RJVkUiLCJ1bmRlZmluZWQiLCJGQUlMRUQiLCJDQU5DRUxMRUQiLCJHZXN0dXJlU3RhdGVNYW5hZ2VyIiwiY3JlYXRlIiwiY2hhbmdlRXZlbnRDYWxjdWxhdG9yIiwiX2dlc3R1cmUkY2hhbmdlRXZlbnRDIiwiY2FsbCIsInVzZUV2ZW50IiwiYW5pbWF0ZWRFdmVudEhhbmRsZXIiLCJ2YWxpZGF0ZURldGVjdG9yQ2hpbGRyZW4iLCJfX0RFVl9fIiwiUkVBQ1RfTkFUSVZFX1ZFUlNJT04iLCJnZXRSZWFjdE5hdGl2ZVZlcnNpb24iLCJ3cmFwVHlwZSIsIm1pbm9yIiwibWFqb3IiLCJfcmVhY3RJbnRlcm5hbHMiLCJlbGVtZW50VHlwZSIsIl9yZWFjdEludGVybmFsRmliZXIiLCJpbnN0YW5jZSIsIlJOUmVuZGVyZXIiLCJmaW5kSG9zdEluc3RhbmNlX0RFUFJFQ0FURUQiLCJfaW50ZXJuYWxGaWJlckluc3RhbmNlSGFuZGxlREVWIiwic2libGluZyIsIkVycm9yIiwicmV0dXJuIiwiYXBwbHlVc2VyU2VsZWN0UHJvcCIsInVzZXJTZWxlY3QiLCJ0b0dlc3R1cmVBcnJheSIsImFwcGx5RW5hYmxlQ29udGV4dE1lbnVQcm9wIiwiZW5hYmxlQ29udGV4dE1lbnUiLCJHZXN0dXJlRGV0ZWN0b3IiLCJwcm9wcyIsInJvb3RWaWV3Q29udGV4dCIsInVzZUNvbnRleHQiLCJpc0plc3RFbnYiLCJ1c2VSZWFuaW1hdGVkSG9vayIsInNvbWUiLCJ1c2VSZWYiLCJmaXJzdFJlbmRlciIsInZpZXdSZWYiLCJwcmV2aW91c1ZpZXdUYWciLCJmb3JjZVJlYXR0YWNoIiwib25HZXN0dXJlSGFuZGxlckV2ZW50IiwiZSIsIm5hdGl2ZUV2ZW50Iiwib25HZXN0dXJlSGFuZGxlclN0YXRlQ2hhbmdlIiwiaXNOZXdXZWJJbXBsZW1lbnRhdGlvbkVuYWJsZWQiLCJfcmVmMiIsInVzZVN0YXRlIiwiX3JlZjMiLCJfc2xpY2VkVG9BcnJheTIiLCJyZW5kZXJTdGF0ZSIsInNldFJlbmRlclN0YXRlIiwiZm9yY2VSZW5kZXIiLCJvbkhhbmRsZXJzVXBkYXRlIiwic2tpcENvbmZpZ1VwZGF0ZSIsImZpbmROb2RlSGFuZGxlIiwibmVlZHNUb1JlYnVpbGRSZWFuaW1hdGVkRXZlbnQiLCJ1c2VFZmZlY3QiLCJyZWZGdW5jdGlvbiIsImlzRmFicmljIiwiZ2xvYmFsIiwiaXNGb3Jtc1N0YWNraW5nQ29udGV4dCIsIm5vZGUiLCJnZXRTaGFkb3dOb2RlRnJvbVJlZiIsImNyZWF0ZUVsZW1lbnQiLCJBbmltYXRlZFdyYXAiLCJjaGlsZHJlbiIsIldyYXAiLCJfcmVhY3QkZGVmYXVsdCRDb21wb24iLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NhbGxTdXBlciIsIl9pbmhlcml0czIiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwicmVuZGVyIiwiY2hpbGQiLCJDaGlsZHJlbiIsIm9ubHkiLCJjbG9uZUVsZW1lbnQiLCJjb2xsYXBzYWJsZSIsIkNvbXBvbmVudCIsIl9SZWFuaW1hdGVkJGRlZmF1bHQkYyIsIl9SZWFuaW1hdGVkJGRlZmF1bHQiLCJjcmVhdGVBbmltYXRlZENvbXBvbmVudCJdLCJzb3VyY2VzIjpbIkdlc3R1cmVEZXRlY3Rvci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIEdlc3R1cmVUeXBlLFxuICBIYW5kbGVyQ2FsbGJhY2tzLFxuICBCYXNlR2VzdHVyZSxcbiAgR2VzdHVyZVJlZixcbiAgQ0FMTEJBQ0tfVFlQRSxcbn0gZnJvbSAnLi9nZXN0dXJlJztcbmltcG9ydCB7IFJlYW5pbWF0ZWQsIFNoYXJlZFZhbHVlIH0gZnJvbSAnLi9yZWFuaW1hdGVkV3JhcHBlcic7XG5pbXBvcnQgeyByZWdpc3RlckhhbmRsZXIsIHVucmVnaXN0ZXJIYW5kbGVyIH0gZnJvbSAnLi4vaGFuZGxlcnNSZWdpc3RyeSc7XG5pbXBvcnQgUk5HZXN0dXJlSGFuZGxlck1vZHVsZSBmcm9tICcuLi8uLi9STkdlc3R1cmVIYW5kbGVyTW9kdWxlJztcbmltcG9ydCB7XG4gIGJhc2VHZXN0dXJlSGFuZGxlcldpdGhNb25pdG9yUHJvcHMsXG4gIGZpbHRlckNvbmZpZyxcbiAgZmluZE5vZGVIYW5kbGUsXG4gIEdlc3R1cmVUb3VjaEV2ZW50LFxuICBHZXN0dXJlVXBkYXRlRXZlbnQsXG4gIEdlc3R1cmVTdGF0ZUNoYW5nZUV2ZW50LFxuICBIYW5kbGVyU3RhdGVDaGFuZ2VFdmVudCxcbiAgc2NoZWR1bGVGbHVzaE9wZXJhdGlvbnMsXG4gIFVzZXJTZWxlY3QsXG59IGZyb20gJy4uL2dlc3R1cmVIYW5kbGVyQ29tbW9uJztcbmltcG9ydCB7XG4gIEdlc3R1cmVTdGF0ZU1hbmFnZXIsXG4gIEdlc3R1cmVTdGF0ZU1hbmFnZXJUeXBlLFxufSBmcm9tICcuL2dlc3R1cmVTdGF0ZU1hbmFnZXInO1xuaW1wb3J0IHsgZmxpbmdHZXN0dXJlSGFuZGxlclByb3BzIH0gZnJvbSAnLi4vRmxpbmdHZXN0dXJlSGFuZGxlcic7XG5pbXBvcnQgeyBmb3JjZVRvdWNoR2VzdHVyZUhhbmRsZXJQcm9wcyB9IGZyb20gJy4uL0ZvcmNlVG91Y2hHZXN0dXJlSGFuZGxlcic7XG5pbXBvcnQgeyBsb25nUHJlc3NHZXN0dXJlSGFuZGxlclByb3BzIH0gZnJvbSAnLi4vTG9uZ1ByZXNzR2VzdHVyZUhhbmRsZXInO1xuaW1wb3J0IHtcbiAgcGFuR2VzdHVyZUhhbmRsZXJQcm9wcyxcbiAgcGFuR2VzdHVyZUhhbmRsZXJDdXN0b21OYXRpdmVQcm9wcyxcbn0gZnJvbSAnLi4vUGFuR2VzdHVyZUhhbmRsZXInO1xuaW1wb3J0IHsgdGFwR2VzdHVyZUhhbmRsZXJQcm9wcyB9IGZyb20gJy4uL1RhcEdlc3R1cmVIYW5kbGVyJztcbmltcG9ydCB7IGhvdmVyR2VzdHVyZUhhbmRsZXJQcm9wcyB9IGZyb20gJy4vaG92ZXJHZXN0dXJlJztcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi4vLi4vU3RhdGUnO1xuaW1wb3J0IHsgVG91Y2hFdmVudFR5cGUgfSBmcm9tICcuLi8uLi9Ub3VjaEV2ZW50VHlwZSc7XG5pbXBvcnQgeyBDb21wb3NlZEdlc3R1cmUgfSBmcm9tICcuL2dlc3R1cmVDb21wb3NpdGlvbic7XG5pbXBvcnQgeyBBY3Rpb25UeXBlIH0gZnJvbSAnLi4vLi4vQWN0aW9uVHlwZSc7XG5pbXBvcnQgeyBpc0ZhYnJpYywgaXNKZXN0RW52LCB0YWdNZXNzYWdlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZ2V0UmVhY3ROYXRpdmVWZXJzaW9uIH0gZnJvbSAnLi4vLi4vZ2V0UmVhY3ROYXRpdmVWZXJzaW9uJztcbmltcG9ydCB7IGdldFNoYWRvd05vZGVGcm9tUmVmIH0gZnJvbSAnLi4vLi4vZ2V0U2hhZG93Tm9kZUZyb21SZWYnO1xuaW1wb3J0IHsgUGxhdGZvcm0gfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHR5cGUgUk5HZXN0dXJlSGFuZGxlck1vZHVsZVdlYiBmcm9tICcuLi8uLi9STkdlc3R1cmVIYW5kbGVyTW9kdWxlLndlYic7XG5pbXBvcnQgeyBvbkdlc3R1cmVIYW5kbGVyRXZlbnQgfSBmcm9tICcuL2V2ZW50UmVjZWl2ZXInO1xuaW1wb3J0IHsgUk5SZW5kZXJlciB9IGZyb20gJy4uLy4uL1JOUmVuZGVyZXInO1xuaW1wb3J0IHsgaXNOZXdXZWJJbXBsZW1lbnRhdGlvbkVuYWJsZWQgfSBmcm9tICcuLi8uLi9FbmFibGVOZXdXZWJJbXBsZW1lbnRhdGlvbic7XG5pbXBvcnQgeyBuYXRpdmVWaWV3R2VzdHVyZUhhbmRsZXJQcm9wcyB9IGZyb20gJy4uL05hdGl2ZVZpZXdHZXN0dXJlSGFuZGxlcic7XG5pbXBvcnQgR2VzdHVyZUhhbmRsZXJSb290Vmlld0NvbnRleHQgZnJvbSAnLi4vLi4vR2VzdHVyZUhhbmRsZXJSb290Vmlld0NvbnRleHQnO1xuaW1wb3J0IHsgZ2hRdWV1ZU1pY3JvdGFzayB9IGZyb20gJy4uLy4uL2doUXVldWVNaWNyb3Rhc2snO1xuXG5kZWNsYXJlIGNvbnN0IGdsb2JhbDoge1xuICBpc0Zvcm1zU3RhY2tpbmdDb250ZXh0OiAobm9kZTogdW5rbm93bikgPT4gYm9vbGVhbiB8IG51bGw7IC8vIEpTSSBmdW5jdGlvblxufTtcblxuY29uc3QgQUxMT1dFRF9QUk9QUyA9IFtcbiAgLi4uYmFzZUdlc3R1cmVIYW5kbGVyV2l0aE1vbml0b3JQcm9wcyxcbiAgLi4udGFwR2VzdHVyZUhhbmRsZXJQcm9wcyxcbiAgLi4ucGFuR2VzdHVyZUhhbmRsZXJQcm9wcyxcbiAgLi4ucGFuR2VzdHVyZUhhbmRsZXJDdXN0b21OYXRpdmVQcm9wcyxcbiAgLi4ubG9uZ1ByZXNzR2VzdHVyZUhhbmRsZXJQcm9wcyxcbiAgLi4uZm9yY2VUb3VjaEdlc3R1cmVIYW5kbGVyUHJvcHMsXG4gIC4uLmZsaW5nR2VzdHVyZUhhbmRsZXJQcm9wcyxcbiAgLi4uaG92ZXJHZXN0dXJlSGFuZGxlclByb3BzLFxuICAuLi5uYXRpdmVWaWV3R2VzdHVyZUhhbmRsZXJQcm9wcyxcbl07XG5cbmV4cG9ydCB0eXBlIEdlc3R1cmVDb25maWdSZWZlcmVuY2UgPSB7XG4gIGNvbmZpZzogR2VzdHVyZVR5cGVbXTtcbiAgYW5pbWF0ZWRFdmVudEhhbmRsZXI6IHVua25vd247XG4gIGFuaW1hdGVkSGFuZGxlcnM6IFNoYXJlZFZhbHVlPFxuICAgIEhhbmRsZXJDYWxsYmFja3M8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+W10gfCBudWxsXG4gID4gfCBudWxsO1xuICBmaXJzdEV4ZWN1dGlvbjogYm9vbGVhbjtcbiAgdXNlUmVhbmltYXRlZEhvb2s6IGJvb2xlYW47XG59O1xuXG5mdW5jdGlvbiBjb252ZXJ0VG9IYW5kbGVyVGFnKHJlZjogR2VzdHVyZVJlZik6IG51bWJlciB7XG4gIGlmICh0eXBlb2YgcmVmID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiByZWY7XG4gIH0gZWxzZSBpZiAocmVmIGluc3RhbmNlb2YgQmFzZUdlc3R1cmUpIHtcbiAgICByZXR1cm4gcmVmLmhhbmRsZXJUYWc7XG4gIH0gZWxzZSB7XG4gICAgLy8gQHRzLWlnbm9yZSBpbiB0aGlzIGNhc2UgaXQgc2hvdWxkIGJlIGEgcmVmIGVpdGhlciB0byBnZXN0dXJlIG9iamVjdCBvclxuICAgIC8vIGEgZ2VzdHVyZSBoYW5kbGVyIGNvbXBvbmVudCwgaW4gYm90aCBjYXNlcyBoYW5kbGVyVGFnIHByb3BlcnR5IGV4aXN0c1xuICAgIHJldHVybiByZWYuY3VycmVudD8uaGFuZGxlclRhZyA/PyAtMTtcbiAgfVxufVxuXG5mdW5jdGlvbiBleHRyYWN0VmFsaWRIYW5kbGVyVGFncyhpbnRlcmFjdGlvbkdyb3VwOiBHZXN0dXJlUmVmW10gfCB1bmRlZmluZWQpIHtcbiAgcmV0dXJuIChcbiAgICBpbnRlcmFjdGlvbkdyb3VwPy5tYXAoY29udmVydFRvSGFuZGxlclRhZyk/LmZpbHRlcigodGFnKSA9PiB0YWcgPiAwKSA/PyBbXVxuICApO1xufVxuXG5mdW5jdGlvbiBkcm9wSGFuZGxlcnMocHJlcGFyZWRHZXN0dXJlOiBHZXN0dXJlQ29uZmlnUmVmZXJlbmNlKSB7XG4gIGZvciAoY29uc3QgaGFuZGxlciBvZiBwcmVwYXJlZEdlc3R1cmUuY29uZmlnKSB7XG4gICAgUk5HZXN0dXJlSGFuZGxlck1vZHVsZS5kcm9wR2VzdHVyZUhhbmRsZXIoaGFuZGxlci5oYW5kbGVyVGFnKTtcblxuICAgIHVucmVnaXN0ZXJIYW5kbGVyKGhhbmRsZXIuaGFuZGxlclRhZywgaGFuZGxlci5jb25maWcudGVzdElkKTtcbiAgfVxuXG4gIHNjaGVkdWxlRmx1c2hPcGVyYXRpb25zKCk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrR2VzdHVyZUNhbGxiYWNrc0ZvcldvcmtsZXRzKGdlc3R1cmU6IEdlc3R1cmVUeXBlKSB7XG4gIC8vIGlmIGEgZ2VzdHVyZSBpcyBleHBsaWNpdGx5IG1hcmtlZCB0byBydW4gb24gdGhlIEpTIHRocmVhZCB0aGVyZSBpcyBubyBuZWVkIHRvIGNoZWNrXG4gIC8vIGlmIGNhbGxiYWNrcyBhcmUgd29ya2xldHMgYXMgdGhlIHVzZXIgaXMgYXdhcmUgdGhleSB3aWxsIGJlIHJhbiBvbiB0aGUgSlMgdGhyZWFkXG4gIGlmIChnZXN0dXJlLmNvbmZpZy5ydW5PbkpTKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYXJlU29tZU5vdFdvcmtsZXRzID0gZ2VzdHVyZS5oYW5kbGVycy5pc1dvcmtsZXQuaW5jbHVkZXMoZmFsc2UpO1xuICBjb25zdCBhcmVTb21lV29ya2xldHMgPSBnZXN0dXJlLmhhbmRsZXJzLmlzV29ya2xldC5pbmNsdWRlcyh0cnVlKTtcblxuICAvLyBpZiBzb21lIG9mIHRoZSBjYWxsYmFja3MgYXJlIHdvcmtsZXRzIGFuZCBzb21lIGFyZSBub3QsIGFuZCB0aGUgZ2VzdHVyZSBpcyBub3RcbiAgLy8gZXhwbGljaXRseSBtYXJrZWQgd2l0aCBgLnJ1bk9uSlModHJ1ZSlgIHNob3cgYW4gZXJyb3JcbiAgaWYgKGFyZVNvbWVOb3RXb3JrbGV0cyAmJiBhcmVTb21lV29ya2xldHMpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgdGFnTWVzc2FnZShcbiAgICAgICAgYFNvbWUgb2YgdGhlIGNhbGxiYWNrcyBpbiB0aGUgZ2VzdHVyZSBhcmUgd29ya2xldHMgYW5kIHNvbWUgYXJlIG5vdC4gRWl0aGVyIG1ha2Ugc3VyZSB0aGF0IGFsbCBjYWxiYWNrcyBhcmUgbWFya2VkIGFzICd3b3JrbGV0JyBpZiB5b3Ugd2lzaCB0byBydW4gdGhlbSBvbiB0aGUgVUkgdGhyZWFkIG9yIHVzZSAnLnJ1bk9uSlModHJ1ZSknIG1vZGlmaWVyIG9uIHRoZSBnZXN0dXJlIGV4cGxpY2l0bHkgdG8gcnVuIGFsbCBjYWxsYmFja3Mgb24gdGhlIEpTIHRocmVhZC5gXG4gICAgICApXG4gICAgKTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgV2ViRXZlbnRIYW5kbGVyIHtcbiAgb25HZXN0dXJlSGFuZGxlckV2ZW50OiAoZXZlbnQ6IEhhbmRsZXJTdGF0ZUNoYW5nZUV2ZW50PHVua25vd24+KSA9PiB2b2lkO1xuICBvbkdlc3R1cmVIYW5kbGVyU3RhdGVDaGFuZ2U/OiAoXG4gICAgZXZlbnQ6IEhhbmRsZXJTdGF0ZUNoYW5nZUV2ZW50PHVua25vd24+XG4gICkgPT4gdm9pZDtcbn1cblxuaW50ZXJmYWNlIEF0dGFjaEhhbmRsZXJzQ29uZmlnIHtcbiAgcHJlcGFyZWRHZXN0dXJlOiBHZXN0dXJlQ29uZmlnUmVmZXJlbmNlO1xuICBnZXN0dXJlQ29uZmlnOiBDb21wb3NlZEdlc3R1cmUgfCBHZXN0dXJlVHlwZTtcbiAgZ2VzdHVyZTogR2VzdHVyZVR5cGVbXTtcbiAgdmlld1RhZzogbnVtYmVyO1xuICB3ZWJFdmVudEhhbmRsZXJzUmVmOiBSZWFjdC5SZWZPYmplY3Q8V2ViRXZlbnRIYW5kbGVyPjtcbiAgbW91bnRlZFJlZjogUmVhY3QuUmVmT2JqZWN0PGJvb2xlYW4+O1xufVxuXG5mdW5jdGlvbiBhdHRhY2hIYW5kbGVycyh7XG4gIHByZXBhcmVkR2VzdHVyZSxcbiAgZ2VzdHVyZUNvbmZpZyxcbiAgZ2VzdHVyZSxcbiAgdmlld1RhZyxcbiAgd2ViRXZlbnRIYW5kbGVyc1JlZixcbiAgbW91bnRlZFJlZixcbn06IEF0dGFjaEhhbmRsZXJzQ29uZmlnKSB7XG4gIGlmICghcHJlcGFyZWRHZXN0dXJlLmZpcnN0RXhlY3V0aW9uKSB7XG4gICAgZ2VzdHVyZUNvbmZpZy5pbml0aWFsaXplKCk7XG4gIH0gZWxzZSB7XG4gICAgcHJlcGFyZWRHZXN0dXJlLmZpcnN0RXhlY3V0aW9uID0gZmFsc2U7XG4gIH1cblxuICAvLyB1c2UgcXVldWVNaWNyb3Rhc2sgdG8gZXh0cmFjdCBoYW5kbGVyVGFncywgYmVjYXVzZSBhbGwgcmVmcyBzaG91bGQgYmUgaW5pdGlhbGl6ZWRcbiAgLy8gd2hlbiBpdCdzIHJhblxuICBnaFF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICBpZiAoIW1vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBnZXN0dXJlQ29uZmlnLnByZXBhcmUoKTtcbiAgfSk7XG5cbiAgZm9yIChjb25zdCBoYW5kbGVyIG9mIGdlc3R1cmUpIHtcbiAgICBjaGVja0dlc3R1cmVDYWxsYmFja3NGb3JXb3JrbGV0cyhoYW5kbGVyKTtcbiAgICBSTkdlc3R1cmVIYW5kbGVyTW9kdWxlLmNyZWF0ZUdlc3R1cmVIYW5kbGVyKFxuICAgICAgaGFuZGxlci5oYW5kbGVyTmFtZSxcbiAgICAgIGhhbmRsZXIuaGFuZGxlclRhZyxcbiAgICAgIGZpbHRlckNvbmZpZyhoYW5kbGVyLmNvbmZpZywgQUxMT1dFRF9QUk9QUylcbiAgICApO1xuXG4gICAgcmVnaXN0ZXJIYW5kbGVyKGhhbmRsZXIuaGFuZGxlclRhZywgaGFuZGxlciwgaGFuZGxlci5jb25maWcudGVzdElkKTtcbiAgfVxuXG4gIC8vIHVzZSBxdWV1ZU1pY3JvdGFzayB0byBleHRyYWN0IGhhbmRsZXJUYWdzLCBiZWNhdXNlIGFsbCByZWZzIHNob3VsZCBiZSBpbml0aWFsaXplZFxuICAvLyB3aGVuIGl0J3MgcmFuXG4gIGdoUXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgIGlmICghbW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiBnZXN0dXJlKSB7XG4gICAgICBsZXQgcmVxdWlyZVRvRmFpbDogbnVtYmVyW10gPSBbXTtcbiAgICAgIGlmIChoYW5kbGVyLmNvbmZpZy5yZXF1aXJlVG9GYWlsKSB7XG4gICAgICAgIHJlcXVpcmVUb0ZhaWwgPSBleHRyYWN0VmFsaWRIYW5kbGVyVGFncyhoYW5kbGVyLmNvbmZpZy5yZXF1aXJlVG9GYWlsKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHNpbXVsdGFuZW91c1dpdGg6IG51bWJlcltdID0gW107XG4gICAgICBpZiAoaGFuZGxlci5jb25maWcuc2ltdWx0YW5lb3VzV2l0aCkge1xuICAgICAgICBzaW11bHRhbmVvdXNXaXRoID0gZXh0cmFjdFZhbGlkSGFuZGxlclRhZ3MoXG4gICAgICAgICAgaGFuZGxlci5jb25maWcuc2ltdWx0YW5lb3VzV2l0aFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBsZXQgYmxvY2tzSGFuZGxlcnM6IG51bWJlcltdID0gW107XG4gICAgICBpZiAoaGFuZGxlci5jb25maWcuYmxvY2tzSGFuZGxlcnMpIHtcbiAgICAgICAgYmxvY2tzSGFuZGxlcnMgPSBleHRyYWN0VmFsaWRIYW5kbGVyVGFncyhoYW5kbGVyLmNvbmZpZy5ibG9ja3NIYW5kbGVycyk7XG4gICAgICB9XG5cbiAgICAgIFJOR2VzdHVyZUhhbmRsZXJNb2R1bGUudXBkYXRlR2VzdHVyZUhhbmRsZXIoXG4gICAgICAgIGhhbmRsZXIuaGFuZGxlclRhZyxcbiAgICAgICAgZmlsdGVyQ29uZmlnKGhhbmRsZXIuY29uZmlnLCBBTExPV0VEX1BST1BTLCB7XG4gICAgICAgICAgc2ltdWx0YW5lb3VzSGFuZGxlcnM6IHNpbXVsdGFuZW91c1dpdGgsXG4gICAgICAgICAgd2FpdEZvcjogcmVxdWlyZVRvRmFpbCxcbiAgICAgICAgICBibG9ja3NIYW5kbGVyczogYmxvY2tzSGFuZGxlcnMsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIHNjaGVkdWxlRmx1c2hPcGVyYXRpb25zKCk7XG4gIH0pO1xuXG4gIHByZXBhcmVkR2VzdHVyZS5jb25maWcgPSBnZXN0dXJlO1xuXG4gIGZvciAoY29uc3QgZ2VzdHVyZSBvZiBwcmVwYXJlZEdlc3R1cmUuY29uZmlnKSB7XG4gICAgY29uc3QgYWN0aW9uVHlwZSA9IGdlc3R1cmUuc2hvdWxkVXNlUmVhbmltYXRlZFxuICAgICAgPyBBY3Rpb25UeXBlLlJFQU5JTUFURURfV09SS0xFVFxuICAgICAgOiBBY3Rpb25UeXBlLkpTX0ZVTkNUSU9OX05FV19BUEk7XG5cbiAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICd3ZWInKSB7XG4gICAgICAoXG4gICAgICAgIFJOR2VzdHVyZUhhbmRsZXJNb2R1bGUuYXR0YWNoR2VzdHVyZUhhbmRsZXIgYXMgdHlwZW9mIFJOR2VzdHVyZUhhbmRsZXJNb2R1bGVXZWIuYXR0YWNoR2VzdHVyZUhhbmRsZXJcbiAgICAgICkoXG4gICAgICAgIGdlc3R1cmUuaGFuZGxlclRhZyxcbiAgICAgICAgdmlld1RhZyxcbiAgICAgICAgQWN0aW9uVHlwZS5KU19GVU5DVElPTl9PTERfQVBJLCAvLyBpZ25vcmVkIG9uIHdlYlxuICAgICAgICB3ZWJFdmVudEhhbmRsZXJzUmVmXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBSTkdlc3R1cmVIYW5kbGVyTW9kdWxlLmF0dGFjaEdlc3R1cmVIYW5kbGVyKFxuICAgICAgICBnZXN0dXJlLmhhbmRsZXJUYWcsXG4gICAgICAgIHZpZXdUYWcsXG4gICAgICAgIGFjdGlvblR5cGVcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHByZXBhcmVkR2VzdHVyZS5hbmltYXRlZEhhbmRsZXJzKSB7XG4gICAgY29uc3QgaXNBbmltYXRlZEdlc3R1cmUgPSAoZzogR2VzdHVyZVR5cGUpID0+IGcuc2hvdWxkVXNlUmVhbmltYXRlZDtcblxuICAgIHByZXBhcmVkR2VzdHVyZS5hbmltYXRlZEhhbmRsZXJzLnZhbHVlID0gZ2VzdHVyZVxuICAgICAgLmZpbHRlcihpc0FuaW1hdGVkR2VzdHVyZSlcbiAgICAgIC5tYXAoKGcpID0+IGcuaGFuZGxlcnMpIGFzIHVua25vd24gYXMgSGFuZGxlckNhbGxiYWNrczxcbiAgICAgIFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4gICAgPltdO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUhhbmRsZXJzKFxuICBwcmVwYXJlZEdlc3R1cmU6IEdlc3R1cmVDb25maWdSZWZlcmVuY2UsXG4gIGdlc3R1cmVDb25maWc6IENvbXBvc2VkR2VzdHVyZSB8IEdlc3R1cmVUeXBlLFxuICBnZXN0dXJlOiBHZXN0dXJlVHlwZVtdLFxuICBtb3VudGVkUmVmOiBSZWFjdC5SZWZPYmplY3Q8Ym9vbGVhbj5cbikge1xuICBnZXN0dXJlQ29uZmlnLnByZXBhcmUoKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGdlc3R1cmUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBoYW5kbGVyID0gcHJlcGFyZWRHZXN0dXJlLmNvbmZpZ1tpXTtcbiAgICBjaGVja0dlc3R1cmVDYWxsYmFja3NGb3JXb3JrbGV0cyhoYW5kbGVyKTtcblxuICAgIC8vIG9ubHkgdXBkYXRlIGhhbmRsZXJUYWcgd2hlbiBpdCdzIGFjdHVhbGx5IGRpZmZlcmVudCwgaXQgbWF5IGJlIHRoZSBzYW1lXG4gICAgLy8gaWYgZ2VzdHVyZSBjb25maWcgb2JqZWN0IGlzIHdyYXBwZWQgd2l0aCB1c2VNZW1vXG4gICAgaWYgKGdlc3R1cmVbaV0uaGFuZGxlclRhZyAhPT0gaGFuZGxlci5oYW5kbGVyVGFnKSB7XG4gICAgICBnZXN0dXJlW2ldLmhhbmRsZXJUYWcgPSBoYW5kbGVyLmhhbmRsZXJUYWc7XG4gICAgICBnZXN0dXJlW2ldLmhhbmRsZXJzLmhhbmRsZXJUYWcgPSBoYW5kbGVyLmhhbmRsZXJUYWc7XG4gICAgfVxuICB9XG5cbiAgLy8gdXNlIHF1ZXVlTWljcm90YXNrIHRvIGV4dHJhY3QgaGFuZGxlclRhZ3MsIGJlY2F1c2Ugd2hlbiBpdCdzIHJhbiwgYWxsIHJlZnMgc2hvdWxkIGJlIHVwZGF0ZWRcbiAgLy8gYW5kIGhhbmRsZXJUYWdzIGluIEJhc2VHZXN0dXJlIHJlZmVyZW5jZXMgc2hvdWxkIGJlIHVwZGF0ZWQgaW4gdGhlIGxvb3AgYWJvdmUgKHdlIG5lZWQgdG8gd2FpdFxuICAvLyBpbiBjYXNlIG9mIGV4dGVybmFsIHJlbGF0aW9ucylcbiAgZ2hRdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgaWYgKCFtb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZXN0dXJlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gcHJlcGFyZWRHZXN0dXJlLmNvbmZpZ1tpXTtcblxuICAgICAgaGFuZGxlci5jb25maWcgPSBnZXN0dXJlW2ldLmNvbmZpZztcbiAgICAgIGhhbmRsZXIuaGFuZGxlcnMgPSBnZXN0dXJlW2ldLmhhbmRsZXJzO1xuXG4gICAgICBjb25zdCByZXF1aXJlVG9GYWlsID0gZXh0cmFjdFZhbGlkSGFuZGxlclRhZ3MoXG4gICAgICAgIGhhbmRsZXIuY29uZmlnLnJlcXVpcmVUb0ZhaWxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHNpbXVsdGFuZW91c1dpdGggPSBleHRyYWN0VmFsaWRIYW5kbGVyVGFncyhcbiAgICAgICAgaGFuZGxlci5jb25maWcuc2ltdWx0YW5lb3VzV2l0aFxuICAgICAgKTtcblxuICAgICAgUk5HZXN0dXJlSGFuZGxlck1vZHVsZS51cGRhdGVHZXN0dXJlSGFuZGxlcihcbiAgICAgICAgaGFuZGxlci5oYW5kbGVyVGFnLFxuICAgICAgICBmaWx0ZXJDb25maWcoaGFuZGxlci5jb25maWcsIEFMTE9XRURfUFJPUFMsIHtcbiAgICAgICAgICBzaW11bHRhbmVvdXNIYW5kbGVyczogc2ltdWx0YW5lb3VzV2l0aCxcbiAgICAgICAgICB3YWl0Rm9yOiByZXF1aXJlVG9GYWlsLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgcmVnaXN0ZXJIYW5kbGVyKGhhbmRsZXIuaGFuZGxlclRhZywgaGFuZGxlciwgaGFuZGxlci5jb25maWcudGVzdElkKTtcbiAgICB9XG5cbiAgICBpZiAocHJlcGFyZWRHZXN0dXJlLmFuaW1hdGVkSGFuZGxlcnMpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzSGFuZGxlcnNWYWx1ZSA9XG4gICAgICAgIHByZXBhcmVkR2VzdHVyZS5hbmltYXRlZEhhbmRsZXJzLnZhbHVlID8/IFtdO1xuICAgICAgY29uc3QgbmV3SGFuZGxlcnNWYWx1ZSA9IHByZXBhcmVkR2VzdHVyZS5jb25maWdcbiAgICAgICAgLmZpbHRlcigoZykgPT4gZy5zaG91bGRVc2VSZWFuaW1hdGVkKSAvLyBpZ25vcmUgZ2VzdHVyZXMgdGhhdCBzaG91bGRuJ3QgcnVuIG9uIFVJXG4gICAgICAgIC5tYXAoKGcpID0+IGcuaGFuZGxlcnMpIGFzIHVua25vd24gYXMgSGFuZGxlckNhbGxiYWNrczxcbiAgICAgICAgUmVjb3JkPHN0cmluZywgdW5rbm93bj5cbiAgICAgID5bXTtcblxuICAgICAgLy8gaWYgYW1vdW50IG9mIGdlc3R1cmUgY29uZmlncyBjaGFuZ2VzLCB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgY2FsbGJhY2tzIGluIHNoYXJlZCB2YWx1ZVxuICAgICAgbGV0IHNob3VsZFVwZGF0ZVNoYXJlZFZhbHVlID1cbiAgICAgICAgcHJldmlvdXNIYW5kbGVyc1ZhbHVlLmxlbmd0aCAhPT0gbmV3SGFuZGxlcnNWYWx1ZS5sZW5ndGg7XG5cbiAgICAgIGlmICghc2hvdWxkVXBkYXRlU2hhcmVkVmFsdWUpIHtcbiAgICAgICAgLy8gaWYgdGhlIGFtb3VudCBpcyB0aGUgc2FtZSwgd2UgbmVlZCB0byBjaGVjayBpZiBhbnkgb2YgdGhlIGNvbmZpZ3MgaW5zaWRlIGhhcyBjaGFuZ2VkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3SGFuZGxlcnNWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIC8vIHdlIGNhbiB1c2UgdGhlIGBnZXN0dXJlSWRgIHByb3AgYXMgaXQncyB1bmlxdWUgZm9yIGV2ZXJ5IGNvbmZpZyBpbnN0YW5jZVxuICAgICAgICAgICAgbmV3SGFuZGxlcnNWYWx1ZVtpXS5nZXN0dXJlSWQgIT09IHByZXZpb3VzSGFuZGxlcnNWYWx1ZVtpXS5nZXN0dXJlSWRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZVNoYXJlZFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2hvdWxkVXBkYXRlU2hhcmVkVmFsdWUpIHtcbiAgICAgICAgcHJlcGFyZWRHZXN0dXJlLmFuaW1hdGVkSGFuZGxlcnMudmFsdWUgPSBuZXdIYW5kbGVyc1ZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNjaGVkdWxlRmx1c2hPcGVyYXRpb25zKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBuZWVkc1RvUmVhdHRhY2goXG4gIHByZXBhcmVkR2VzdHVyZTogR2VzdHVyZUNvbmZpZ1JlZmVyZW5jZSxcbiAgZ2VzdHVyZTogR2VzdHVyZVR5cGVbXVxuKSB7XG4gIGlmIChnZXN0dXJlLmxlbmd0aCAhPT0gcHJlcGFyZWRHZXN0dXJlLmNvbmZpZy5sZW5ndGgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGdlc3R1cmUubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoXG4gICAgICBnZXN0dXJlW2ldLmhhbmRsZXJOYW1lICE9PSBwcmVwYXJlZEdlc3R1cmUuY29uZmlnW2ldLmhhbmRsZXJOYW1lIHx8XG4gICAgICBnZXN0dXJlW2ldLnNob3VsZFVzZVJlYW5pbWF0ZWQgIT09XG4gICAgICAgIHByZXBhcmVkR2VzdHVyZS5jb25maWdbaV0uc2hvdWxkVXNlUmVhbmltYXRlZFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1N0YXRlQ2hhbmdlRXZlbnQoXG4gIGV2ZW50OiBHZXN0dXJlVXBkYXRlRXZlbnQgfCBHZXN0dXJlU3RhdGVDaGFuZ2VFdmVudCB8IEdlc3R1cmVUb3VjaEV2ZW50XG4pOiBldmVudCBpcyBHZXN0dXJlU3RhdGVDaGFuZ2VFdmVudCB7XG4gICd3b3JrbGV0JztcbiAgLy8gQHRzLWlnbm9yZSBZZXMsIHRoZSBvbGRTdGF0ZSBwcm9wIGlzIG1pc3Npbmcgb24gR2VzdHVyZVRvdWNoRXZlbnQsIHRoYXQncyB0aGUgcG9pbnRcbiAgcmV0dXJuIGV2ZW50Lm9sZFN0YXRlICE9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVG91Y2hFdmVudChcbiAgZXZlbnQ6IEdlc3R1cmVVcGRhdGVFdmVudCB8IEdlc3R1cmVTdGF0ZUNoYW5nZUV2ZW50IHwgR2VzdHVyZVRvdWNoRXZlbnRcbik6IGV2ZW50IGlzIEdlc3R1cmVUb3VjaEV2ZW50IHtcbiAgJ3dvcmtsZXQnO1xuICByZXR1cm4gZXZlbnQuZXZlbnRUeXBlICE9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldEhhbmRsZXIoXG4gIHR5cGU6IENBTExCQUNLX1RZUEUsXG4gIGdlc3R1cmU6IEhhbmRsZXJDYWxsYmFja3M8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+XG4pIHtcbiAgJ3dvcmtsZXQnO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIENBTExCQUNLX1RZUEUuQkVHQU46XG4gICAgICByZXR1cm4gZ2VzdHVyZS5vbkJlZ2luO1xuICAgIGNhc2UgQ0FMTEJBQ0tfVFlQRS5TVEFSVDpcbiAgICAgIHJldHVybiBnZXN0dXJlLm9uU3RhcnQ7XG4gICAgY2FzZSBDQUxMQkFDS19UWVBFLlVQREFURTpcbiAgICAgIHJldHVybiBnZXN0dXJlLm9uVXBkYXRlO1xuICAgIGNhc2UgQ0FMTEJBQ0tfVFlQRS5DSEFOR0U6XG4gICAgICByZXR1cm4gZ2VzdHVyZS5vbkNoYW5nZTtcbiAgICBjYXNlIENBTExCQUNLX1RZUEUuRU5EOlxuICAgICAgcmV0dXJuIGdlc3R1cmUub25FbmQ7XG4gICAgY2FzZSBDQUxMQkFDS19UWVBFLkZJTkFMSVpFOlxuICAgICAgcmV0dXJuIGdlc3R1cmUub25GaW5hbGl6ZTtcbiAgICBjYXNlIENBTExCQUNLX1RZUEUuVE9VQ0hFU19ET1dOOlxuICAgICAgcmV0dXJuIGdlc3R1cmUub25Ub3VjaGVzRG93bjtcbiAgICBjYXNlIENBTExCQUNLX1RZUEUuVE9VQ0hFU19NT1ZFOlxuICAgICAgcmV0dXJuIGdlc3R1cmUub25Ub3VjaGVzTW92ZTtcbiAgICBjYXNlIENBTExCQUNLX1RZUEUuVE9VQ0hFU19VUDpcbiAgICAgIHJldHVybiBnZXN0dXJlLm9uVG91Y2hlc1VwO1xuICAgIGNhc2UgQ0FMTEJBQ0tfVFlQRS5UT1VDSEVTX0NBTkNFTExFRDpcbiAgICAgIHJldHVybiBnZXN0dXJlLm9uVG91Y2hlc0NhbmNlbGxlZDtcbiAgfVxufVxuXG5mdW5jdGlvbiB0b3VjaEV2ZW50VHlwZVRvQ2FsbGJhY2tUeXBlKFxuICBldmVudFR5cGU6IFRvdWNoRXZlbnRUeXBlXG4pOiBDQUxMQkFDS19UWVBFIHtcbiAgJ3dvcmtsZXQnO1xuICBzd2l0Y2ggKGV2ZW50VHlwZSkge1xuICAgIGNhc2UgVG91Y2hFdmVudFR5cGUuVE9VQ0hFU19ET1dOOlxuICAgICAgcmV0dXJuIENBTExCQUNLX1RZUEUuVE9VQ0hFU19ET1dOO1xuICAgIGNhc2UgVG91Y2hFdmVudFR5cGUuVE9VQ0hFU19NT1ZFOlxuICAgICAgcmV0dXJuIENBTExCQUNLX1RZUEUuVE9VQ0hFU19NT1ZFO1xuICAgIGNhc2UgVG91Y2hFdmVudFR5cGUuVE9VQ0hFU19VUDpcbiAgICAgIHJldHVybiBDQUxMQkFDS19UWVBFLlRPVUNIRVNfVVA7XG4gICAgY2FzZSBUb3VjaEV2ZW50VHlwZS5UT1VDSEVTX0NBTkNFTExFRDpcbiAgICAgIHJldHVybiBDQUxMQkFDS19UWVBFLlRPVUNIRVNfQ0FOQ0VMTEVEO1xuICB9XG4gIHJldHVybiBDQUxMQkFDS19UWVBFLlVOREVGSU5FRDtcbn1cblxuZnVuY3Rpb24gcnVuV29ya2xldChcbiAgdHlwZTogQ0FMTEJBQ0tfVFlQRSxcbiAgZ2VzdHVyZTogSGFuZGxlckNhbGxiYWNrczxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4sXG4gIGV2ZW50OiBHZXN0dXJlU3RhdGVDaGFuZ2VFdmVudCB8IEdlc3R1cmVVcGRhdGVFdmVudCB8IEdlc3R1cmVUb3VjaEV2ZW50LFxuICAuLi5hcmdzOiBhbnlbXVxuKSB7XG4gICd3b3JrbGV0JztcbiAgY29uc3QgaGFuZGxlciA9IGdldEhhbmRsZXIodHlwZSwgZ2VzdHVyZSk7XG4gIGlmIChnZXN0dXJlLmlzV29ya2xldFt0eXBlXSkge1xuICAgIC8vIEB0cy1pZ25vcmUgTG9naWMgYmVsb3cgbWFrZXMgc3VyZSB0aGUgY29ycmVjdCBldmVudCBpcyBzZW5kIHRvIHRoZVxuICAgIC8vIGNvcnJlY3QgaGFuZGxlci5cbiAgICBoYW5kbGVyPy4oZXZlbnQsIC4uLmFyZ3MpO1xuICB9IGVsc2UgaWYgKGhhbmRsZXIpIHtcbiAgICBjb25zb2xlLndhcm4odGFnTWVzc2FnZSgnQW5pbWF0ZWQgZ2VzdHVyZSBjYWxsYmFjayBtdXN0IGJlIGEgd29ya2xldCcpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VBbmltYXRlZEdlc3R1cmUoXG4gIHByZXBhcmVkR2VzdHVyZTogR2VzdHVyZUNvbmZpZ1JlZmVyZW5jZSxcbiAgbmVlZHNSZWJ1aWxkOiBib29sZWFuXG4pIHtcbiAgaWYgKCFSZWFuaW1hdGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSG9va3MgYXJlIGNhbGxlZCBjb25kaXRpb25hbGx5LCBidXQgdGhlIGNvbmRpdGlvbiBpcyB3aGV0aGVyIHRoZVxuICAvLyByZWFjdC1uYXRpdmUtcmVhbmltYXRlZCBpcyBpbnN0YWxsZWQsIHdoaWNoIHNob3VsZG4ndCBjaGFuZ2Ugd2hpbGUgcnVubmluZ1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgY29uc3Qgc2hhcmVkSGFuZGxlcnNDYWxsYmFja3MgPSBSZWFuaW1hdGVkLnVzZVNoYXJlZFZhbHVlPFxuICAgIEhhbmRsZXJDYWxsYmFja3M8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+W10gfCBudWxsXG4gID4obnVsbCk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gIGNvbnN0IGxhc3RVcGRhdGVFdmVudCA9IFJlYW5pbWF0ZWQudXNlU2hhcmVkVmFsdWU8XG4gICAgKEdlc3R1cmVVcGRhdGVFdmVudCB8IHVuZGVmaW5lZClbXVxuICA+KFtdKTtcblxuICAvLyBub3QgZXZlcnkgZ2VzdHVyZSBuZWVkcyBhIHN0YXRlIGNvbnRyb2xsZXIsIGluaXQgdGhlbSBsYXppbHlcbiAgY29uc3Qgc3RhdGVDb250cm9sbGVyczogR2VzdHVyZVN0YXRlTWFuYWdlclR5cGVbXSA9IFtdO1xuXG4gIGNvbnN0IGNhbGxiYWNrID0gKFxuICAgIGV2ZW50OiBHZXN0dXJlU3RhdGVDaGFuZ2VFdmVudCB8IEdlc3R1cmVVcGRhdGVFdmVudCB8IEdlc3R1cmVUb3VjaEV2ZW50XG4gICkgPT4ge1xuICAgICd3b3JrbGV0JztcblxuICAgIGNvbnN0IGN1cnJlbnRDYWxsYmFjayA9IHNoYXJlZEhhbmRsZXJzQ2FsbGJhY2tzLnZhbHVlO1xuICAgIGlmICghY3VycmVudENhbGxiYWNrKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50Q2FsbGJhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGdlc3R1cmUgPSBjdXJyZW50Q2FsbGJhY2tbaV07XG5cbiAgICAgIGlmIChldmVudC5oYW5kbGVyVGFnID09PSBnZXN0dXJlLmhhbmRsZXJUYWcpIHtcbiAgICAgICAgaWYgKGlzU3RhdGVDaGFuZ2VFdmVudChldmVudCkpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBldmVudC5vbGRTdGF0ZSA9PT0gU3RhdGUuVU5ERVRFUk1JTkVEICYmXG4gICAgICAgICAgICBldmVudC5zdGF0ZSA9PT0gU3RhdGUuQkVHQU5cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJ1bldvcmtsZXQoQ0FMTEJBQ0tfVFlQRS5CRUdBTiwgZ2VzdHVyZSwgZXZlbnQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAoZXZlbnQub2xkU3RhdGUgPT09IFN0YXRlLkJFR0FOIHx8XG4gICAgICAgICAgICAgIGV2ZW50Lm9sZFN0YXRlID09PSBTdGF0ZS5VTkRFVEVSTUlORUQpICYmXG4gICAgICAgICAgICBldmVudC5zdGF0ZSA9PT0gU3RhdGUuQUNUSVZFXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBydW5Xb3JrbGV0KENBTExCQUNLX1RZUEUuU1RBUlQsIGdlc3R1cmUsIGV2ZW50KTtcbiAgICAgICAgICAgIGxhc3RVcGRhdGVFdmVudC52YWx1ZVtnZXN0dXJlLmhhbmRsZXJUYWddID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBldmVudC5vbGRTdGF0ZSAhPT0gZXZlbnQuc3RhdGUgJiZcbiAgICAgICAgICAgIGV2ZW50LnN0YXRlID09PSBTdGF0ZS5FTkRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChldmVudC5vbGRTdGF0ZSA9PT0gU3RhdGUuQUNUSVZFKSB7XG4gICAgICAgICAgICAgIHJ1bldvcmtsZXQoQ0FMTEJBQ0tfVFlQRS5FTkQsIGdlc3R1cmUsIGV2ZW50LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJ1bldvcmtsZXQoQ0FMTEJBQ0tfVFlQRS5GSU5BTElaRSwgZ2VzdHVyZSwgZXZlbnQsIHRydWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAoZXZlbnQuc3RhdGUgPT09IFN0YXRlLkZBSUxFRCB8fCBldmVudC5zdGF0ZSA9PT0gU3RhdGUuQ0FOQ0VMTEVEKSAmJlxuICAgICAgICAgICAgZXZlbnQuc3RhdGUgIT09IGV2ZW50Lm9sZFN0YXRlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQub2xkU3RhdGUgPT09IFN0YXRlLkFDVElWRSkge1xuICAgICAgICAgICAgICBydW5Xb3JrbGV0KENBTExCQUNLX1RZUEUuRU5ELCBnZXN0dXJlLCBldmVudCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVuV29ya2xldChDQUxMQkFDS19UWVBFLkZJTkFMSVpFLCBnZXN0dXJlLCBldmVudCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc1RvdWNoRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgaWYgKCFzdGF0ZUNvbnRyb2xsZXJzW2ldKSB7XG4gICAgICAgICAgICBzdGF0ZUNvbnRyb2xsZXJzW2ldID0gR2VzdHVyZVN0YXRlTWFuYWdlci5jcmVhdGUoZXZlbnQuaGFuZGxlclRhZyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV2ZW50LmV2ZW50VHlwZSAhPT0gVG91Y2hFdmVudFR5cGUuVU5ERVRFUk1JTkVEKSB7XG4gICAgICAgICAgICBydW5Xb3JrbGV0KFxuICAgICAgICAgICAgICB0b3VjaEV2ZW50VHlwZVRvQ2FsbGJhY2tUeXBlKGV2ZW50LmV2ZW50VHlwZSksXG4gICAgICAgICAgICAgIGdlc3R1cmUsXG4gICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICBzdGF0ZUNvbnRyb2xsZXJzW2ldXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBydW5Xb3JrbGV0KENBTExCQUNLX1RZUEUuVVBEQVRFLCBnZXN0dXJlLCBldmVudCk7XG5cbiAgICAgICAgICBpZiAoZ2VzdHVyZS5vbkNoYW5nZSAmJiBnZXN0dXJlLmNoYW5nZUV2ZW50Q2FsY3VsYXRvcikge1xuICAgICAgICAgICAgcnVuV29ya2xldChcbiAgICAgICAgICAgICAgQ0FMTEJBQ0tfVFlQRS5DSEFOR0UsXG4gICAgICAgICAgICAgIGdlc3R1cmUsXG4gICAgICAgICAgICAgIGdlc3R1cmUuY2hhbmdlRXZlbnRDYWxjdWxhdG9yPy4oXG4gICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgbGFzdFVwZGF0ZUV2ZW50LnZhbHVlW2dlc3R1cmUuaGFuZGxlclRhZ11cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgbGFzdFVwZGF0ZUV2ZW50LnZhbHVlW2dlc3R1cmUuaGFuZGxlclRhZ10gPSBldmVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gIGNvbnN0IGV2ZW50ID0gUmVhbmltYXRlZC51c2VFdmVudChcbiAgICBjYWxsYmFjayxcbiAgICBbJ29uR2VzdHVyZUhhbmRsZXJTdGF0ZUNoYW5nZScsICdvbkdlc3R1cmVIYW5kbGVyRXZlbnQnXSxcbiAgICBuZWVkc1JlYnVpbGRcbiAgKTtcblxuICBwcmVwYXJlZEdlc3R1cmUuYW5pbWF0ZWRFdmVudEhhbmRsZXIgPSBldmVudDtcbiAgcHJlcGFyZWRHZXN0dXJlLmFuaW1hdGVkSGFuZGxlcnMgPSBzaGFyZWRIYW5kbGVyc0NhbGxiYWNrcztcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIHZhbGlkYXRlRGV0ZWN0b3JDaGlsZHJlbihyZWY6IGFueSkge1xuICAvLyBmaW5kcyB0aGUgZmlyc3QgbmF0aXZlIHZpZXcgdW5kZXIgdGhlIFdyYXAgY29tcG9uZW50IGFuZCB0cmF2ZXJzZXMgdGhlIGZpYmVyIHRyZWUgdXB3YXJkc1xuICAvLyB0byBjaGVjayB3aGV0aGVyIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgbmF0aXZlIHZpZXcgYXMgYSBwc2V1ZG8tZGlyZWN0IGNoaWxkIG9mIEdlc3R1cmVEZXRlY3RvclxuICAvLyBpLmUuIHRoaXMgaXMgbm90IG9rOlxuICAvLyAgICAgICAgICAgIFdyYXBcbiAgLy8gICAgICAgICAgICAgfFxuICAvLyAgICAgICAgICAgIC8gXFxcbiAgLy8gICAgICAgICAgIC8gICBcXFxuICAvLyAgICAgICAgICAvICAgICBcXFxuICAvLyAgICAgICAgIC8gICAgICAgXFxcbiAgLy8gICBOYXRpdmVWaWV3ICBOYXRpdmVWaWV3XG4gIC8vXG4gIC8vIGJ1dCB0aGlzIGlzIGZpbmU6XG4gIC8vICAgICAgICAgICAgV3JhcFxuICAvLyAgICAgICAgICAgICB8XG4gIC8vICAgICAgICAgTmF0aXZlVmlld1xuICAvLyAgICAgICAgICAgICB8XG4gIC8vICAgICAgICAgICAgLyBcXFxuICAvLyAgICAgICAgICAgLyAgIFxcXG4gIC8vICAgICAgICAgIC8gICAgIFxcXG4gIC8vICAgICAgICAgLyAgICAgICBcXFxuICAvLyAgIE5hdGl2ZVZpZXcgIE5hdGl2ZVZpZXdcbiAgaWYgKF9fREVWX18gJiYgUGxhdGZvcm0uT1MgIT09ICd3ZWInKSB7XG4gICAgY29uc3QgUkVBQ1RfTkFUSVZFX1ZFUlNJT04gPSBnZXRSZWFjdE5hdGl2ZVZlcnNpb24oKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50XG4gICAgY29uc3Qgd3JhcFR5cGUgPVxuICAgICAgUkVBQ1RfTkFUSVZFX1ZFUlNJT04ubWlub3IgPiA2MyB8fCBSRUFDVF9OQVRJVkVfVkVSU0lPTi5tYWpvciA+IDBcbiAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgICAgcmVmLl9yZWFjdEludGVybmFscy5lbGVtZW50VHlwZVxuICAgICAgICA6IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICByZWYuX3JlYWN0SW50ZXJuYWxGaWJlci5lbGVtZW50VHlwZTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50XG4gICAgbGV0IGluc3RhbmNlID1cbiAgICAgIFJOUmVuZGVyZXIuZmluZEhvc3RJbnN0YW5jZV9ERVBSRUNBVEVEKFxuICAgICAgICByZWZcbiAgICAgICkuX2ludGVybmFsRmliZXJJbnN0YW5jZUhhbmRsZURFVjtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICB3aGlsZSAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuZWxlbWVudFR5cGUgIT09IHdyYXBUeXBlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICBpZiAoaW5zdGFuY2Uuc2libGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0dlc3R1cmVEZXRlY3RvciBoYXMgbW9yZSB0aGFuIG9uZSBuYXRpdmUgdmlldyBhcyBpdHMgY2hpbGRyZW4uIFRoaXMgY2FuIGhhcHBlbiBpZiB5b3UgYXJlIHVzaW5nIGEgY3VzdG9tIGNvbXBvbmVudCB0aGF0IHJlbmRlcnMgbXVsdGlwbGUgdmlld3MsIGxpa2UgUmVhY3QuRnJhZ21lbnQuIFlvdSBzaG91bGQgd3JhcCBjb250ZW50IG9mIEdlc3R1cmVEZXRlY3RvciB3aXRoIGEgPFZpZXc+IG9yIDxBbmltYXRlZC5WaWV3Pi4nXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnQsIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5yZXR1cm47XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGFwcGx5VXNlclNlbGVjdFByb3AgPSAoXG4gIHVzZXJTZWxlY3Q6IFVzZXJTZWxlY3QsXG4gIGdlc3R1cmU6IENvbXBvc2VkR2VzdHVyZSB8IEdlc3R1cmVUeXBlXG4pOiB2b2lkID0+IHtcbiAgZm9yIChjb25zdCBnIG9mIGdlc3R1cmUudG9HZXN0dXJlQXJyYXkoKSkge1xuICAgIGcuY29uZmlnLnVzZXJTZWxlY3QgPSB1c2VyU2VsZWN0O1xuICB9XG59O1xuXG5jb25zdCBhcHBseUVuYWJsZUNvbnRleHRNZW51UHJvcCA9IChcbiAgZW5hYmxlQ29udGV4dE1lbnU6IGJvb2xlYW4sXG4gIGdlc3R1cmU6IENvbXBvc2VkR2VzdHVyZSB8IEdlc3R1cmVUeXBlXG4pOiB2b2lkID0+IHtcbiAgZm9yIChjb25zdCBnIG9mIGdlc3R1cmUudG9HZXN0dXJlQXJyYXkoKSkge1xuICAgIGcuY29uZmlnLmVuYWJsZUNvbnRleHRNZW51ID0gZW5hYmxlQ29udGV4dE1lbnU7XG4gIH1cbn07XG5cbmludGVyZmFjZSBHZXN0dXJlRGV0ZWN0b3JQcm9wcyB7XG4gIGdlc3R1cmU6IENvbXBvc2VkR2VzdHVyZSB8IEdlc3R1cmVUeXBlO1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgdXNlclNlbGVjdD86IFVzZXJTZWxlY3Q7XG4gIGVuYWJsZUNvbnRleHRNZW51PzogYm9vbGVhbjtcbn1cbmludGVyZmFjZSBHZXN0dXJlRGV0ZWN0b3JTdGF0ZSB7XG4gIGZpcnN0UmVuZGVyOiBib29sZWFuO1xuICB2aWV3UmVmOiBSZWFjdC5Db21wb25lbnQgfCBudWxsO1xuICBwcmV2aW91c1ZpZXdUYWc6IG51bWJlcjtcbiAgZm9yY2VSZWF0dGFjaDogYm9vbGVhbjtcbn1cbmV4cG9ydCBjb25zdCBHZXN0dXJlRGV0ZWN0b3IgPSAocHJvcHM6IEdlc3R1cmVEZXRlY3RvclByb3BzKSA9PiB7XG4gIGNvbnN0IHJvb3RWaWV3Q29udGV4dCA9IHVzZUNvbnRleHQoR2VzdHVyZUhhbmRsZXJSb290Vmlld0NvbnRleHQpO1xuICBpZiAoX19ERVZfXyAmJiAhcm9vdFZpZXdDb250ZXh0ICYmICFpc0plc3RFbnYoKSAmJiBQbGF0Zm9ybS5PUyAhPT0gJ3dlYicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnR2VzdHVyZURldGVjdG9yIG11c3QgYmUgdXNlZCBhcyBhIGRlc2NlbmRhbnQgb2YgR2VzdHVyZUhhbmRsZXJSb290Vmlldy4gT3RoZXJ3aXNlIHRoZSBnZXN0dXJlcyB3aWxsIG5vdCBiZSByZWNvZ25pemVkLiBTZWUgaHR0cHM6Ly9kb2NzLnN3bWFuc2lvbi5jb20vcmVhY3QtbmF0aXZlLWdlc3R1cmUtaGFuZGxlci9kb2NzL2luc3RhbGxhdGlvbiBmb3IgbW9yZSBkZXRhaWxzLidcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZ2VzdHVyZUNvbmZpZyA9IHByb3BzLmdlc3R1cmU7XG5cbiAgaWYgKHByb3BzLnVzZXJTZWxlY3QpIHtcbiAgICBhcHBseVVzZXJTZWxlY3RQcm9wKHByb3BzLnVzZXJTZWxlY3QsIGdlc3R1cmVDb25maWcpO1xuICB9XG5cbiAgaWYgKHByb3BzLmVuYWJsZUNvbnRleHRNZW51ICE9PSB1bmRlZmluZWQpIHtcbiAgICBhcHBseUVuYWJsZUNvbnRleHRNZW51UHJvcChwcm9wcy5lbmFibGVDb250ZXh0TWVudSwgZ2VzdHVyZUNvbmZpZyk7XG4gIH1cblxuICBjb25zdCBnZXN0dXJlID0gZ2VzdHVyZUNvbmZpZy50b0dlc3R1cmVBcnJheSgpO1xuICBjb25zdCB1c2VSZWFuaW1hdGVkSG9vayA9IGdlc3R1cmUuc29tZSgoZykgPT4gZy5zaG91bGRVc2VSZWFuaW1hdGVkKTtcblxuICAvLyBzdG9yZSBzdGF0ZSBpbiByZWYgdG8gcHJldmVudCB1bm5lY2Vzc2FyeSByZW5kZXJzXG4gIGNvbnN0IHN0YXRlID0gdXNlUmVmPEdlc3R1cmVEZXRlY3RvclN0YXRlPih7XG4gICAgZmlyc3RSZW5kZXI6IHRydWUsXG4gICAgdmlld1JlZjogbnVsbCxcbiAgICBwcmV2aW91c1ZpZXdUYWc6IC0xLFxuICAgIGZvcmNlUmVhdHRhY2g6IGZhbHNlLFxuICB9KS5jdXJyZW50O1xuICBjb25zdCBtb3VudGVkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3Qgd2ViRXZlbnRIYW5kbGVyc1JlZiA9IHVzZVJlZjxXZWJFdmVudEhhbmRsZXI+KHtcbiAgICBvbkdlc3R1cmVIYW5kbGVyRXZlbnQ6IChlOiBIYW5kbGVyU3RhdGVDaGFuZ2VFdmVudDx1bmtub3duPikgPT4ge1xuICAgICAgb25HZXN0dXJlSGFuZGxlckV2ZW50KGUubmF0aXZlRXZlbnQpO1xuICAgIH0sXG4gICAgb25HZXN0dXJlSGFuZGxlclN0YXRlQ2hhbmdlOiBpc05ld1dlYkltcGxlbWVudGF0aW9uRW5hYmxlZCgpXG4gICAgICA/IChlOiBIYW5kbGVyU3RhdGVDaGFuZ2VFdmVudDx1bmtub3duPikgPT4ge1xuICAgICAgICAgIG9uR2VzdHVyZUhhbmRsZXJFdmVudChlLm5hdGl2ZUV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgOiB1bmRlZmluZWQsXG4gIH0pO1xuXG4gIGNvbnN0IFtyZW5kZXJTdGF0ZSwgc2V0UmVuZGVyU3RhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBmdW5jdGlvbiBmb3JjZVJlbmRlcigpIHtcbiAgICBzZXRSZW5kZXJTdGF0ZSghcmVuZGVyU3RhdGUpO1xuICB9XG5cbiAgY29uc3QgcHJlcGFyZWRHZXN0dXJlID0gUmVhY3QudXNlUmVmPEdlc3R1cmVDb25maWdSZWZlcmVuY2U+KHtcbiAgICBjb25maWc6IGdlc3R1cmUsXG4gICAgYW5pbWF0ZWRFdmVudEhhbmRsZXI6IG51bGwsXG4gICAgYW5pbWF0ZWRIYW5kbGVyczogbnVsbCxcbiAgICBmaXJzdEV4ZWN1dGlvbjogdHJ1ZSxcbiAgICB1c2VSZWFuaW1hdGVkSG9vazogdXNlUmVhbmltYXRlZEhvb2ssXG4gIH0pLmN1cnJlbnQ7XG5cbiAgaWYgKHVzZVJlYW5pbWF0ZWRIb29rICE9PSBwcmVwYXJlZEdlc3R1cmUudXNlUmVhbmltYXRlZEhvb2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICB0YWdNZXNzYWdlKFxuICAgICAgICAnWW91IGNhbm5vdCBjaGFuZ2UgdGhlIHRocmVhZCB0aGUgY2FsbGJhY2tzIGFyZSByYW4gb24gd2hpbGUgdGhlIGFwcCBpcyBydW5uaW5nJ1xuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkhhbmRsZXJzVXBkYXRlKHNraXBDb25maWdVcGRhdGU/OiBib29sZWFuKSB7XG4gICAgLy8gaWYgdGhlIHVuZGVybHlpbmcgdmlldyBoYXMgY2hhbmdlZCB3ZSBuZWVkIHRvIHJlYXR0YWNoIGhhbmRsZXJzIHRvIHRoZSBuZXcgdmlld1xuICAgIGNvbnN0IHZpZXdUYWcgPSBmaW5kTm9kZUhhbmRsZShzdGF0ZS52aWV3UmVmKSBhcyBudW1iZXI7XG4gICAgY29uc3QgZm9yY2VSZWF0dGFjaCA9IHZpZXdUYWcgIT09IHN0YXRlLnByZXZpb3VzVmlld1RhZztcblxuICAgIGlmIChmb3JjZVJlYXR0YWNoIHx8IG5lZWRzVG9SZWF0dGFjaChwcmVwYXJlZEdlc3R1cmUsIGdlc3R1cmUpKSB7XG4gICAgICB2YWxpZGF0ZURldGVjdG9yQ2hpbGRyZW4oc3RhdGUudmlld1JlZik7XG4gICAgICBkcm9wSGFuZGxlcnMocHJlcGFyZWRHZXN0dXJlKTtcbiAgICAgIGF0dGFjaEhhbmRsZXJzKHtcbiAgICAgICAgcHJlcGFyZWRHZXN0dXJlLFxuICAgICAgICBnZXN0dXJlQ29uZmlnLFxuICAgICAgICBnZXN0dXJlLFxuICAgICAgICB3ZWJFdmVudEhhbmRsZXJzUmVmLFxuICAgICAgICB2aWV3VGFnLFxuICAgICAgICBtb3VudGVkUmVmLFxuICAgICAgfSk7XG5cbiAgICAgIHN0YXRlLnByZXZpb3VzVmlld1RhZyA9IHZpZXdUYWc7XG4gICAgICBzdGF0ZS5mb3JjZVJlYXR0YWNoID0gZm9yY2VSZWF0dGFjaDtcbiAgICAgIGlmIChmb3JjZVJlYXR0YWNoKSB7XG4gICAgICAgIGZvcmNlUmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghc2tpcENvbmZpZ1VwZGF0ZSkge1xuICAgICAgdXBkYXRlSGFuZGxlcnMocHJlcGFyZWRHZXN0dXJlLCBnZXN0dXJlQ29uZmlnLCBnZXN0dXJlLCBtb3VudGVkUmVmKTtcbiAgICB9XG4gIH1cblxuICAvLyBSZWFuaW1hdGVkIGV2ZW50IHNob3VsZCBiZSByZWJ1aWx0IG9ubHkgd2hlbiBnZXN0dXJlcyBhcmUgcmVhdHRhY2hlZCwgb3RoZXJ3aXNlXG4gIC8vIGNvbmZpZyB1cGRhdGUgd2lsbCBiZSBlbm91Z2ggYXMgYWxsIG5lY2Vzc2FyeSBpdGVtcyBhcmUgc3RvcmVkIGluIHNoYXJlZCB2YWx1ZXMgYW55d2F5XG4gIGNvbnN0IG5lZWRzVG9SZWJ1aWxkUmVhbmltYXRlZEV2ZW50ID1cbiAgICBwcmVwYXJlZEdlc3R1cmUuZmlyc3RFeGVjdXRpb24gfHxcbiAgICBuZWVkc1RvUmVhdHRhY2gocHJlcGFyZWRHZXN0dXJlLCBnZXN0dXJlKSB8fFxuICAgIHN0YXRlLmZvcmNlUmVhdHRhY2g7XG5cbiAgc3RhdGUuZm9yY2VSZWF0dGFjaCA9IGZhbHNlO1xuXG4gIGlmIChwcmVwYXJlZEdlc3R1cmUuZmlyc3RFeGVjdXRpb24pIHtcbiAgICBnZXN0dXJlQ29uZmlnLmluaXRpYWxpemUoKTtcbiAgfVxuXG4gIGlmICh1c2VSZWFuaW1hdGVkSG9vaykge1xuICAgIC8vIFdoZXRoZXIgYW5pbWF0ZWRHZXN0dXJlIG9yIGdlc3R1cmUgaXMgdXNlZCBzaG91bGRuJ3QgY2hhbmdlIHdoaWxlIHRoZSBhcHAgaXMgcnVubmluZ1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICAgIHVzZUFuaW1hdGVkR2VzdHVyZShwcmVwYXJlZEdlc3R1cmUsIG5lZWRzVG9SZWJ1aWxkUmVhbmltYXRlZEV2ZW50KTtcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgdmlld1RhZyA9IGZpbmROb2RlSGFuZGxlKHN0YXRlLnZpZXdSZWYpIGFzIG51bWJlcjtcbiAgICBzdGF0ZS5maXJzdFJlbmRlciA9IHRydWU7XG4gICAgbW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcblxuICAgIHZhbGlkYXRlRGV0ZWN0b3JDaGlsZHJlbihzdGF0ZS52aWV3UmVmKTtcblxuICAgIGF0dGFjaEhhbmRsZXJzKHtcbiAgICAgIHByZXBhcmVkR2VzdHVyZSxcbiAgICAgIGdlc3R1cmVDb25maWcsXG4gICAgICBnZXN0dXJlLFxuICAgICAgd2ViRXZlbnRIYW5kbGVyc1JlZixcbiAgICAgIHZpZXdUYWcsXG4gICAgICBtb3VudGVkUmVmLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG1vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgZHJvcEhhbmRsZXJzKHByZXBhcmVkR2VzdHVyZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzdGF0ZS5maXJzdFJlbmRlcikge1xuICAgICAgb25IYW5kbGVyc1VwZGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5maXJzdFJlbmRlciA9IGZhbHNlO1xuICAgIH1cbiAgfSwgW3Byb3BzXSk7XG5cbiAgY29uc3QgcmVmRnVuY3Rpb24gPSAocmVmOiB1bmtub3duKSA9PiB7XG4gICAgaWYgKHJlZiAhPT0gbnVsbCkge1xuICAgICAgLy8gQHRzLWlnbm9yZSBKdXN0IHNldHRpbmcgdGhlIHZpZXcgcmVmXG4gICAgICBzdGF0ZS52aWV3UmVmID0gcmVmO1xuXG4gICAgICAvLyBpZiBpdCdzIHRoZSBmaXJzdCByZW5kZXIsIGFsc28gc2V0IHRoZSBwcmV2aW91c1ZpZXdUYWcgdG8gcHJldmVudCByZWF0dGFjaGluZyBnZXN0dXJlcyB3aGVuIG5vdCBuZWVkZWRcbiAgICAgIGlmIChzdGF0ZS5wcmV2aW91c1ZpZXdUYWcgPT09IC0xKSB7XG4gICAgICAgIHN0YXRlLnByZXZpb3VzVmlld1RhZyA9IGZpbmROb2RlSGFuZGxlKHN0YXRlLnZpZXdSZWYpIGFzIG51bWJlcjtcbiAgICAgIH1cblxuICAgICAgLy8gcGFzcyB0cnVlIGFzIGBza2lwQ29uZmlnVXBkYXRlYCwgaGVyZSB3ZSBvbmx5IHdhbnQgdG8gdHJpZ2dlciB0aGUgZXZlbnR1YWwgcmVhdHRhY2hpbmcgb2YgaGFuZGxlcnNcbiAgICAgIC8vIGluIGNhc2UgdGhlIHZpZXcgaGFzIGNoYW5nZWQsIHdoaWxlIGNvbmZpZyB1cGRhdGUgd291bGQgYmUgaGFuZGxlZCBiZSB0aGUgYHVzZUVmZmVjdGAgYWJvdmVcbiAgICAgIG9uSGFuZGxlcnNVcGRhdGUodHJ1ZSk7XG5cbiAgICAgIGlmIChpc0ZhYnJpYygpICYmIGdsb2JhbC5pc0Zvcm1zU3RhY2tpbmdDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBnZXRTaGFkb3dOb2RlRnJvbVJlZihyZWYpO1xuICAgICAgICBpZiAoZ2xvYmFsLmlzRm9ybXNTdGFja2luZ0NvbnRleHQobm9kZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIHRhZ01lc3NhZ2UoXG4gICAgICAgICAgICAgICdHZXN0dXJlRGV0ZWN0b3IgaGFzIHJlY2VpdmVkIGEgY2hpbGQgdGhhdCBtYXkgZ2V0IHZpZXctZmxhdHRlbmVkLiAnICtcbiAgICAgICAgICAgICAgICAnXFxuVG8gcHJldmVudCBpdCBmcm9tIG1pc2JlaGF2aW5nIHlvdSBuZWVkIHRvIHdyYXAgdGhlIGNoaWxkIHdpdGggYSBgPFZpZXcgY29sbGFwc2FibGU9e2ZhbHNlfT5gLidcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGlmICh1c2VSZWFuaW1hdGVkSG9vaykge1xuICAgIHJldHVybiAoXG4gICAgICA8QW5pbWF0ZWRXcmFwXG4gICAgICAgIHJlZj17cmVmRnVuY3Rpb259XG4gICAgICAgIG9uR2VzdHVyZUhhbmRsZXJFdmVudD17cHJlcGFyZWRHZXN0dXJlLmFuaW1hdGVkRXZlbnRIYW5kbGVyfT5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9BbmltYXRlZFdyYXA+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gPFdyYXAgcmVmPXtyZWZGdW5jdGlvbn0+e3Byb3BzLmNoaWxkcmVufTwvV3JhcD47XG4gIH1cbn07XG5cbmNsYXNzIFdyYXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8e1xuICBvbkdlc3R1cmVIYW5kbGVyRXZlbnQ/OiB1bmtub3duO1xuICAvLyBpbXBsaWNpdCBgY2hpbGRyZW5gIHByb3AgaGFzIGJlZW4gcmVtb3ZlZCBpbiBAdHlwZXMvcmVhY3ReMTguMC4wXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xufT4ge1xuICByZW5kZXIoKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEkgZG9uJ3QgdGhpbmsgdGhhdCBmaWdodGluZyB3aXRoIHR5cGVzIG92ZXIgc3VjaCBhIHNpbXBsZSBmdW5jdGlvbiBpcyB3b3J0aCBpdFxuICAgICAgLy8gVGhlIG9ubHkgdGhpbmcgaXQgZG9lcyBpcyBhZGQgJ2NvbGxhcHNhYmxlOiBmYWxzZScgdG8gdGhlIGNoaWxkIGNvbXBvbmVudFxuICAgICAgLy8gdG8gbWFrZSBzdXJlIGl0IGlzIGluIHRoZSBuYXRpdmUgdmlldyBoaWVyYXJjaHkgc28gdGhlIGRldGVjdG9yIGNhbiBmaW5kXG4gICAgICAvLyBjb3JyZWN0IHZpZXdUYWcgdG8gYXR0YWNoIHRvLlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgIGNvbnN0IGNoaWxkOiBhbnkgPSBSZWFjdC5DaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICAgY2hpbGQsXG4gICAgICAgIHsgY29sbGFwc2FibGU6IGZhbHNlIH0sXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgY2hpbGQucHJvcHMuY2hpbGRyZW5cbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICB0YWdNZXNzYWdlKFxuICAgICAgICAgIGBHZXN0dXJlRGV0ZWN0b3IgZ290IG1vcmUgdGhhbiBvbmUgdmlldyBhcyBhIGNoaWxkLiBJZiB5b3Ugd2FudCB0aGUgZ2VzdHVyZSB0byB3b3JrIG9uIG11bHRpcGxlIHZpZXdzLCB3cmFwIHRoZW0gd2l0aCBhIGNvbW1vbiBwYXJlbnQgYW5kIGF0dGFjaCB0aGUgZ2VzdHVyZSB0byB0aGF0IHZpZXcuYFxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBBbmltYXRlZFdyYXAgPSBSZWFuaW1hdGVkPy5kZWZhdWx0Py5jcmVhdGVBbmltYXRlZENvbXBvbmVudChXcmFwKSA/PyBXcmFwO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRCxPQUFBO0FBT0EsSUFBQUUsa0JBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLGlCQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSx1QkFBQSxHQUFBQyxzQkFBQSxDQUFBTCxPQUFBO0FBQ0EsSUFBQU0scUJBQUEsR0FBQU4sT0FBQTtBQVdBLElBQUFPLG9CQUFBLEdBQUFQLE9BQUE7QUFJQSxJQUFBUSxvQkFBQSxHQUFBUixPQUFBO0FBQ0EsSUFBQVMseUJBQUEsR0FBQVQsT0FBQTtBQUNBLElBQUFVLHdCQUFBLEdBQUFWLE9BQUE7QUFDQSxJQUFBVyxrQkFBQSxHQUFBWCxPQUFBO0FBSUEsSUFBQVksa0JBQUEsR0FBQVosT0FBQTtBQUNBLElBQUFhLGFBQUEsR0FBQWIsT0FBQTtBQUNBLElBQUFjLE1BQUEsR0FBQWQsT0FBQTtBQUNBLElBQUFlLGVBQUEsR0FBQWYsT0FBQTtBQUVBLElBQUFnQixXQUFBLEdBQUFoQixPQUFBO0FBQ0EsSUFBQWlCLE1BQUEsR0FBQWpCLE9BQUE7QUFDQSxJQUFBa0Isc0JBQUEsR0FBQWxC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