fccbddc7d622895399665d6ffb8003f7
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _invariant = _interopRequireDefault(require("invariant"));
var customBubblingEventTypes = {};
var customDirectEventTypes = {};
exports.customBubblingEventTypes = customBubblingEventTypes;
exports.customDirectEventTypes = customDirectEventTypes;
var viewConfigCallbacks = new Map();
var viewConfigs = new Map();
function processEventTypes(viewConfig) {
  var bubblingEventTypes = viewConfig.bubblingEventTypes,
    directEventTypes = viewConfig.directEventTypes;
  if (__DEV__) {
    if (bubblingEventTypes != null && directEventTypes != null) {
      for (var topLevelType in directEventTypes) {
        (0, _invariant.default)(bubblingEventTypes[topLevelType] == null, 'Event cannot be both direct and bubbling: %s', topLevelType);
      }
    }
  }
  if (bubblingEventTypes != null) {
    for (var _topLevelType in bubblingEventTypes) {
      if (customBubblingEventTypes[_topLevelType] == null) {
        customBubblingEventTypes[_topLevelType] = bubblingEventTypes[_topLevelType];
      }
    }
  }
  if (directEventTypes != null) {
    for (var _topLevelType2 in directEventTypes) {
      if (customDirectEventTypes[_topLevelType2] == null) {
        customDirectEventTypes[_topLevelType2] = directEventTypes[_topLevelType2];
      }
    }
  }
}
exports.register = function (name, callback) {
  (0, _invariant.default)(!viewConfigCallbacks.has(name), 'Tried to register two views with the same name %s', name);
  (0, _invariant.default)(typeof callback === 'function', 'View config getter callback for component `%s` must be a function (received `%s`)', name, callback === null ? 'null' : typeof callback);
  viewConfigCallbacks.set(name, callback);
  return name;
};
exports.get = function (name) {
  var viewConfig;
  if (!viewConfigs.has(name)) {
    var callback = viewConfigCallbacks.get(name);
    if (typeof callback !== 'function') {
      (0, _invariant.default)(false, 'View config getter callback for component `%s` must be a function (received `%s`).%s', name, callback === null ? 'null' : typeof callback, typeof name[0] === 'string' && /[a-z]/.test(name[0]) ? ' Make sure to start component names with a capital letter.' : '');
    }
    viewConfig = callback();
    processEventTypes(viewConfig);
    viewConfigs.set(name, viewConfig);
    viewConfigCallbacks.set(name, null);
  } else {
    viewConfig = viewConfigs.get(name);
  }
  (0, _invariant.default)(viewConfig, 'View config not found for name %s', name);
  return viewConfig;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9pbnZhcmlhbnQiLCJjdXN0b21CdWJibGluZ0V2ZW50VHlwZXMiLCJjdXN0b21EaXJlY3RFdmVudFR5cGVzIiwiZXhwb3J0cyIsInZpZXdDb25maWdDYWxsYmFja3MiLCJNYXAiLCJ2aWV3Q29uZmlncyIsInByb2Nlc3NFdmVudFR5cGVzIiwidmlld0NvbmZpZyIsImJ1YmJsaW5nRXZlbnRUeXBlcyIsImRpcmVjdEV2ZW50VHlwZXMiLCJfX0RFVl9fIiwidG9wTGV2ZWxUeXBlIiwiaW52YXJpYW50IiwicmVnaXN0ZXIiLCJuYW1lIiwiY2FsbGJhY2siLCJoYXMiLCJzZXQiLCJnZXQiLCJ0ZXN0Il0sInNvdXJjZXMiOlsiUmVhY3ROYXRpdmVWaWV3Q29uZmlnUmVnaXN0cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBub2Zvcm1hdFxuICogQGZsb3cgc3RyaWN0LWxvY2FsXG4gKiBAbm9saW50XG4gKiBAZ2VuZXJhdGVkIFNpZ25lZFNvdXJjZTw8MWIzOTMxNjUyMGY1YWYyNWYwYTE0MWQ3ZDc4YjA4MDk+PlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHt0eXBlIFZpZXdDb25maWd9IGZyb20gJy4vUmVhY3ROYXRpdmVUeXBlcyc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5cbi8vIEV2ZW50IGNvbmZpZ3NcbmNvbnN0IGN1c3RvbUJ1YmJsaW5nRXZlbnRUeXBlczoge1xuICBbZXZlbnROYW1lOiBzdHJpbmddOiAkUmVhZE9ubHk8e1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiAkUmVhZE9ubHk8e1xuICAgICAgY2FwdHVyZWQ6IHN0cmluZyxcbiAgICAgIGJ1YmJsZWQ6IHN0cmluZyxcbiAgICAgIHNraXBCdWJibGluZz86ID9ib29sZWFuLFxuICAgIH0+LFxuICB9PixcbiAgLi4uXG59ID0ge307XG5jb25zdCBjdXN0b21EaXJlY3RFdmVudFR5cGVzOiB7XG4gIFtldmVudE5hbWU6IHN0cmluZ106ICRSZWFkT25seTx7XG4gICAgcmVnaXN0cmF0aW9uTmFtZTogc3RyaW5nLFxuICB9PixcbiAgLi4uXG59ID0ge307XG5cbmV4cG9ydHMuY3VzdG9tQnViYmxpbmdFdmVudFR5cGVzID0gY3VzdG9tQnViYmxpbmdFdmVudFR5cGVzO1xuZXhwb3J0cy5jdXN0b21EaXJlY3RFdmVudFR5cGVzID0gY3VzdG9tRGlyZWN0RXZlbnRUeXBlcztcblxuY29uc3Qgdmlld0NvbmZpZ0NhbGxiYWNrcyA9IG5ldyBNYXA8c3RyaW5nLCA/KCkgPT4gVmlld0NvbmZpZz4oKTtcbmNvbnN0IHZpZXdDb25maWdzID0gbmV3IE1hcDxzdHJpbmcsIFZpZXdDb25maWc+KCk7XG5cbmZ1bmN0aW9uIHByb2Nlc3NFdmVudFR5cGVzKHZpZXdDb25maWc6IFZpZXdDb25maWcpOiB2b2lkIHtcbiAgY29uc3Qge2J1YmJsaW5nRXZlbnRUeXBlcywgZGlyZWN0RXZlbnRUeXBlc30gPSB2aWV3Q29uZmlnO1xuXG4gIGlmIChfX0RFVl9fKSB7XG4gICAgaWYgKGJ1YmJsaW5nRXZlbnRUeXBlcyAhPSBudWxsICYmIGRpcmVjdEV2ZW50VHlwZXMgIT0gbnVsbCkge1xuICAgICAgZm9yIChjb25zdCB0b3BMZXZlbFR5cGUgaW4gZGlyZWN0RXZlbnRUeXBlcykge1xuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgYnViYmxpbmdFdmVudFR5cGVzW3RvcExldmVsVHlwZV0gPT0gbnVsbCxcbiAgICAgICAgICAnRXZlbnQgY2Fubm90IGJlIGJvdGggZGlyZWN0IGFuZCBidWJibGluZzogJXMnLFxuICAgICAgICAgIHRvcExldmVsVHlwZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoYnViYmxpbmdFdmVudFR5cGVzICE9IG51bGwpIHtcbiAgICBmb3IgKGNvbnN0IHRvcExldmVsVHlwZSBpbiBidWJibGluZ0V2ZW50VHlwZXMpIHtcbiAgICAgIGlmIChjdXN0b21CdWJibGluZ0V2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXSA9PSBudWxsKSB7XG4gICAgICAgIGN1c3RvbUJ1YmJsaW5nRXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdID1cbiAgICAgICAgICBidWJibGluZ0V2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoZGlyZWN0RXZlbnRUeXBlcyAhPSBudWxsKSB7XG4gICAgZm9yIChjb25zdCB0b3BMZXZlbFR5cGUgaW4gZGlyZWN0RXZlbnRUeXBlcykge1xuICAgICAgaWYgKGN1c3RvbURpcmVjdEV2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXSA9PSBudWxsKSB7XG4gICAgICAgIGN1c3RvbURpcmVjdEV2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXSA9IGRpcmVjdEV2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBuYXRpdmUgdmlldy9jb21wb25lbnQgYnkgbmFtZS5cbiAqIEEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgdG8gbG9hZCB0aGUgdmlldyBjb25maWcgZnJvbSBVSU1hbmFnZXIuXG4gKiBUaGUgY2FsbGJhY2sgaXMgZGVmZXJyZWQgdW50aWwgdGhlIHZpZXcgaXMgYWN0dWFsbHkgcmVuZGVyZWQuXG4gKi9cbmV4cG9ydHMucmVnaXN0ZXIgPSBmdW5jdGlvbiAobmFtZTogc3RyaW5nLCBjYWxsYmFjazogKCkgPT4gVmlld0NvbmZpZyk6IHN0cmluZyB7XG4gIGludmFyaWFudChcbiAgICAhdmlld0NvbmZpZ0NhbGxiYWNrcy5oYXMobmFtZSksXG4gICAgJ1RyaWVkIHRvIHJlZ2lzdGVyIHR3byB2aWV3cyB3aXRoIHRoZSBzYW1lIG5hbWUgJXMnLFxuICAgIG5hbWUsXG4gICk7XG4gIGludmFyaWFudChcbiAgICB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicsXG4gICAgJ1ZpZXcgY29uZmlnIGdldHRlciBjYWxsYmFjayBmb3IgY29tcG9uZW50IGAlc2AgbXVzdCBiZSBhIGZ1bmN0aW9uIChyZWNlaXZlZCBgJXNgKScsXG4gICAgbmFtZSxcbiAgICBjYWxsYmFjayA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBjYWxsYmFjayxcbiAgKTtcbiAgdmlld0NvbmZpZ0NhbGxiYWNrcy5zZXQobmFtZSwgY2FsbGJhY2spO1xuICByZXR1cm4gbmFtZTtcbn07XG5cbi8qKlxuICogUmV0cmlldmVzIGEgY29uZmlnIGZvciB0aGUgc3BlY2lmaWVkIHZpZXcuXG4gKiBJZiB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHRoZSB2aWV3IGhhcyBiZWVuIHVzZWQsXG4gKiBUaGlzIGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBsYXp5LWxvYWRlZCBmcm9tIFVJTWFuYWdlci5cbiAqL1xuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbiAobmFtZTogc3RyaW5nKTogVmlld0NvbmZpZyB7XG4gIGxldCB2aWV3Q29uZmlnO1xuICBpZiAoIXZpZXdDb25maWdzLmhhcyhuYW1lKSkge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gdmlld0NvbmZpZ0NhbGxiYWNrcy5nZXQobmFtZSk7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgJ1ZpZXcgY29uZmlnIGdldHRlciBjYWxsYmFjayBmb3IgY29tcG9uZW50IGAlc2AgbXVzdCBiZSBhIGZ1bmN0aW9uIChyZWNlaXZlZCBgJXNgKS4lcycsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGNhbGxiYWNrID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGNhbGxiYWNrLFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW3JlY3Vyc2l2ZS1kZWZpbml0aW9uXVxuICAgICAgICB0eXBlb2YgbmFtZVswXSA9PT0gJ3N0cmluZycgJiYgL1thLXpdLy50ZXN0KG5hbWVbMF0pXG4gICAgICAgICAgPyAnIE1ha2Ugc3VyZSB0byBzdGFydCBjb21wb25lbnQgbmFtZXMgd2l0aCBhIGNhcGl0YWwgbGV0dGVyLidcbiAgICAgICAgICA6ICcnLFxuICAgICAgKTtcbiAgICB9XG4gICAgdmlld0NvbmZpZyA9IGNhbGxiYWNrKCk7XG4gICAgcHJvY2Vzc0V2ZW50VHlwZXModmlld0NvbmZpZyk7XG4gICAgdmlld0NvbmZpZ3Muc2V0KG5hbWUsIHZpZXdDb25maWcpO1xuXG4gICAgLy8gQ2xlYXIgdGhlIGNhbGxiYWNrIGFmdGVyIHRoZSBjb25maWcgaXMgc2V0IHNvIHRoYXRcbiAgICAvLyB3ZSBkb24ndCBtYXNrIGFueSBlcnJvcnMgZHVyaW5nIHJlZ2lzdHJhdGlvbi5cbiAgICB2aWV3Q29uZmlnQ2FsbGJhY2tzLnNldChuYW1lLCBudWxsKTtcbiAgfSBlbHNlIHtcbiAgICB2aWV3Q29uZmlnID0gdmlld0NvbmZpZ3MuZ2V0KG5hbWUpO1xuICB9XG4gIGludmFyaWFudCh2aWV3Q29uZmlnLCAnVmlldyBjb25maWcgbm90IGZvdW5kIGZvciBuYW1lICVzJywgbmFtZSk7XG4gIHJldHVybiB2aWV3Q29uZmlnO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBWUEsWUFBWTs7QUFBQyxJQUFBQSxzQkFBQSxHQUFBQyxPQUFBO0FBR2IsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBTUUsd0JBU0wsR0FBRyxDQUFDLENBQUM7QUFDTixJQUFNQyxzQkFLTCxHQUFHLENBQUMsQ0FBQztBQUVOQyxPQUFPLENBQUNGLHdCQUF3QixHQUFHQSx3QkFBd0I7QUFDM0RFLE9BQU8sQ0FBQ0Qsc0JBQXNCLEdBQUdBLHNCQUFzQjtBQUV2RCxJQUFNRSxtQkFBbUIsR0FBRyxJQUFJQyxHQUFHLENBQTRCLENBQUM7QUFDaEUsSUFBTUMsV0FBVyxHQUFHLElBQUlELEdBQUcsQ0FBcUIsQ0FBQztBQUVqRCxTQUFTRSxpQkFBaUJBLENBQUNDLFVBQXNCLEVBQVE7RUFDdkQsSUFBT0Msa0JBQWtCLEdBQXNCRCxVQUFVLENBQWxEQyxrQkFBa0I7SUFBRUMsZ0JBQWdCLEdBQUlGLFVBQVUsQ0FBOUJFLGdCQUFnQjtFQUUzQyxJQUFJQyxPQUFPLEVBQUU7SUFDWCxJQUFJRixrQkFBa0IsSUFBSSxJQUFJLElBQUlDLGdCQUFnQixJQUFJLElBQUksRUFBRTtNQUMxRCxLQUFLLElBQU1FLFlBQVksSUFBSUYsZ0JBQWdCLEVBQUU7UUFDM0MsSUFBQUcsa0JBQVMsRUFDUEosa0JBQWtCLENBQUNHLFlBQVksQ0FBQyxJQUFJLElBQUksRUFDeEMsOENBQThDLEVBQzlDQSxZQUNGLENBQUM7TUFDSDtJQUNGO0VBQ0Y7RUFFQSxJQUFJSCxrQkFBa0IsSUFBSSxJQUFJLEVBQUU7SUFDOUIsS0FBSyxJQUFNRyxhQUFZLElBQUlILGtCQUFrQixFQUFFO01BQzdDLElBQUlSLHdCQUF3QixDQUFDVyxhQUFZLENBQUMsSUFBSSxJQUFJLEVBQUU7UUFDbERYLHdCQUF3QixDQUFDVyxhQUFZLENBQUMsR0FDcENILGtCQUFrQixDQUFDRyxhQUFZLENBQUM7TUFDcEM7SUFDRjtFQUNGO0VBRUEsSUFBSUYsZ0JBQWdCLElBQUksSUFBSSxFQUFFO0lBQzVCLEtBQUssSUFBTUUsY0FBWSxJQUFJRixnQkFBZ0IsRUFBRTtNQUMzQyxJQUFJUixzQkFBc0IsQ0FBQ1UsY0FBWSxDQUFDLElBQUksSUFBSSxFQUFFO1FBQ2hEVixzQkFBc0IsQ0FBQ1UsY0FBWSxDQUFDLEdBQUdGLGdCQUFnQixDQUFDRSxjQUFZLENBQUM7TUFDdkU7SUFDRjtFQUNGO0FBQ0Y7QUFPQVQsT0FBTyxDQUFDVyxRQUFRLEdBQUcsVUFBVUMsSUFBWSxFQUFFQyxRQUEwQixFQUFVO0VBQzdFLElBQUFILGtCQUFTLEVBQ1AsQ0FBQ1QsbUJBQW1CLENBQUNhLEdBQUcsQ0FBQ0YsSUFBSSxDQUFDLEVBQzlCLG1EQUFtRCxFQUNuREEsSUFDRixDQUFDO0VBQ0QsSUFBQUYsa0JBQVMsRUFDUCxPQUFPRyxRQUFRLEtBQUssVUFBVSxFQUM5QixtRkFBbUYsRUFDbkZELElBQUksRUFDSkMsUUFBUSxLQUFLLElBQUksR0FBRyxNQUFNLEdBQUcsT0FBT0EsUUFDdEMsQ0FBQztFQUNEWixtQkFBbUIsQ0FBQ2MsR0FBRyxDQUFDSCxJQUFJLEVBQUVDLFFBQVEsQ0FBQztFQUN2QyxPQUFPRCxJQUFJO0FBQ2IsQ0FBQztBQU9EWixPQUFPLENBQUNnQixHQUFHLEdBQUcsVUFBVUosSUFBWSxFQUFjO0VBQ2hELElBQUlQLFVBQVU7RUFDZCxJQUFJLENBQUNGLFdBQVcsQ0FBQ1csR0FBRyxDQUFDRixJQUFJLENBQUMsRUFBRTtJQUMxQixJQUFNQyxRQUFRLEdBQUdaLG1CQUFtQixDQUFDZSxHQUFHLENBQUNKLElBQUksQ0FBQztJQUM5QyxJQUFJLE9BQU9DLFFBQVEsS0FBSyxVQUFVLEVBQUU7TUFDbEMsSUFBQUgsa0JBQVMsRUFDUCxLQUFLLEVBQ0wsc0ZBQXNGLEVBQ3RGRSxJQUFJLEVBQ0pDLFFBQVEsS0FBSyxJQUFJLEdBQUcsTUFBTSxHQUFHLE9BQU9BLFFBQVEsRUFFNUMsT0FBT0QsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLFFBQVEsSUFBSSxPQUFPLENBQUNLLElBQUksQ0FBQ0wsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQ2hELDREQUE0RCxHQUM1RCxFQUNOLENBQUM7SUFDSDtJQUNBUCxVQUFVLEdBQUdRLFFBQVEsQ0FBQyxDQUFDO0lBQ3ZCVCxpQkFBaUIsQ0FBQ0MsVUFBVSxDQUFDO0lBQzdCRixXQUFXLENBQUNZLEdBQUcsQ0FBQ0gsSUFBSSxFQUFFUCxVQUFVLENBQUM7SUFJakNKLG1CQUFtQixDQUFDYyxHQUFHLENBQUNILElBQUksRUFBRSxJQUFJLENBQUM7RUFDckMsQ0FBQyxNQUFNO0lBQ0xQLFVBQVUsR0FBR0YsV0FBVyxDQUFDYSxHQUFHLENBQUNKLElBQUksQ0FBQztFQUNwQztFQUNBLElBQUFGLGtCQUFTLEVBQUNMLFVBQVUsRUFBRSxtQ0FBbUMsRUFBRU8sSUFBSSxDQUFDO0VBQ2hFLE9BQU9QLFVBQVU7QUFDbkIsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==