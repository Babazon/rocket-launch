{"version":3,"names":["_react","require","_api","_sortLaunches","useLaunches","exports","_useState","useState","_useState2","_slicedToArray2","default","pastLaunches","setPastLaunches","_useState3","_useState4","upcomingLaunches","setUpcomingLaunches","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","isError","setIsError","fetchPastLaunches","useCallback","fetchPastLaunchData","then","launches","sortLaunches","reverse","filter","_ref","upcoming","catch","error","finally","fetchUpcomingLaunches","fetchUpcomingLaunchData","fetchData","useEffect","sections","title","data"],"sources":["useLaunches.ts"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport { fetchPastLaunchData, fetchUpcomingLaunchData } from \"../services/api\";\nimport { Launch } from \"../services/types\";\nimport { sortLaunches } from \"../utils/sortLaunches\";\n\nexport const useLaunches = () => {\n    const [pastLaunches, setPastLaunches] = useState<Launch[]>([])\n    const [upcomingLaunches, setUpcomingLaunches] = useState<Launch[]>([])\n\n    const [isLoading, setIsLoading] = useState<boolean>(false)\n    const [isError, setIsError] = useState<boolean>(false)\n\n    const fetchPastLaunches = useCallback(() => {\n        setIsLoading(true);\n        setIsError(false);\n\n        fetchPastLaunchData()\n            .then((launches: Launch[]) => {\n                // all launches endpoint includes upcoming launches. in order to sort by date descending, we filter them out\n                if (launches) {\n                    setPastLaunches(sortLaunches({ launches, reverse: true }).filter(({ upcoming }) => !upcoming))\n                }\n            })\n            .catch(error => {\n                setIsError(!!error);\n            })\n            .finally(() => setIsLoading(false))\n\n    }, [pastLaunches])\n\n    const fetchUpcomingLaunches = useCallback(() => {\n        setIsLoading(true);\n        setIsError(false);\n\n        fetchUpcomingLaunchData()\n            .then((launches: Launch[]) => {\n                // upcoming launches are sorted ascending by date, so the nearest one is on top\n                if (launches) {\n                    setUpcomingLaunches(sortLaunches({ launches }))\n                }\n            })\n            .catch(error => {\n                setIsError(!!error);\n            })\n            .finally(() => setIsLoading(false))\n\n    }, [pastLaunches])\n\n\n    const fetchData = () => {\n        fetchPastLaunches();\n        fetchUpcomingLaunches();\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [])\n\n    return {\n        isLoading,\n        isError,\n        sections: [{ title: 'Upcoming ðŸš€ Launches', data: upcomingLaunches }, { title: 'Past ðŸš€ Launches', data: pastLaunches }],\n        fetchData\n    }\n}"],"mappings":"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","ignoreList":[]}